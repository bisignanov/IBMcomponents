import{p as I,j as r,I as P,B as D}from"./settings-DEdZ0TrD.js";import{R as j,r as t}from"./index-BwDkhjyp.js";import{P as e}from"./index-Dk74W0Oi.js";import{c as g}from"./floating-ui.core.mjs-LzsX8FoD.js";import{u as M}from"./useResizeObserver-CYrpFlRY.js";import{u as L}from"./uuidv4-BQrI85uz.js";import{p as Y}from"./props-helper-Bq60RLbY.js";import{O as Z,a as ee}from"./index-wQDODWB9.js";const S="ActionBarItem",ne=`${I.prefix}--action-bar-item`;let u=j.forwardRef(({label:o,className:h,renderIcon:c,...d},f)=>{const a=c;return r.jsx(P,{...d,ref:f,className:g(ne,h),kind:"ghost",size:"md",align:"bottom-end",type:"button",label:o,children:a?r.jsx(a,{}):null})});u=I.checkComponentEnabled(u,S);const te=["kind","size","align","type"],F={...P.propTypes};te.forEach(o=>{delete F[o]});u.displayName=S;u.propTypes={...F,className:e.string,label:e.string,onClick:e.func,renderIcon:e.oneOfType([e.func,e.object]),tabIndex:e.number};u.__docgenInfo={description:"The ActionBarItem is used in the page header to populate the action bar",methods:[],displayName:"ActionBarItem",props:{className:{required:!1,tsType:{name:"string"},description:`Specify an optional className to be added to your Button

(inherited from Carbon Button)`,type:{name:"string"}},label:{required:!1,tsType:{name:"string"},description:`If specifying the \`renderIcon\` prop, provide a description for that icon that can
be read by screen readers

(inherited from Carbon Button)`,type:{name:"string"}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:`Optional click handler

(inherited from Carbon Button)`,type:{name:"func"}},renderIcon:{required:!1,tsType:{name:"CarbonIconType"},description:`Optional prop to allow overriding the icon rendering.
Can be a React component class

(inherited from Carbon Button)`,type:{name:"union",value:[{name:"func"},{name:"object"}]}},tabIndex:{required:!1,tsType:{name:"number"},description:"Optional tab index",type:{name:"number"}}},composes:["PropsWithChildren"]};const y=`${I.prefix}--action-bar-overflow-items`,re="ActionBar",v=({className:o,menuOptionsClass:h,overflowItems:c,overflowAriaLabel:d,overflowMenuRef:f})=>{const a=t.useRef(L());return r.jsx("div",{ref:f,children:r.jsx(Z,{"aria-label":d,className:g(y,o),direction:"bottom",flipped:!0,iconDescription:d,menuOptionsClass:g(`${y}__options`,h),children:j.Children.map(c,(n,T)=>{const A=n==null?void 0:n.props.renderIcon;return r.jsx(ee,{className:`${y}__item`,onClick:n==null?void 0:n.props.onClick,itemText:r.jsxs("div",{className:`${y}__item-content`,"aria-describedby":`${a.current}-${T}--item-label`,children:[r.jsx("span",{className:`${y}__item-label`,id:`${a.current}-${T}--item-label`,children:n==null?void 0:n.props.label}),typeof(n==null?void 0:n.props.renderIcon)=="function"?r.jsx(A,{}):n==null?void 0:n.props.renderIcon]})})})})})};v.displayName=re;v.propTypes={className:e.string,menuOptionsClass:e.string,overflowAriaLabel:e.string,overflowItems:e.arrayOf(e.element),overflowMenuRef:e.oneOfType([e.shape({current:e.elementType}),e.object]),tabIndex:e.number};v.__docgenInfo={description:"",methods:[],displayName:"ActionBar",props:{className:{required:!1,tsType:{name:"string"},description:"className",type:{name:"string"}},menuOptionsClass:{required:!1,tsType:{name:"string"},description:"class name applied to the overflow options",type:{name:"string"}},overflowAriaLabel:{required:!1,tsType:{name:"string"},description:"overflowAriaLabel label for open close button overflow used for action bar items that do not fit.",type:{name:"string"}},overflowMenuRef:{required:!1,tsType:{name:"ForwardedRef",elements:[{name:"HTMLDivElement"}],raw:"ForwardedRef<HTMLDivElement>"},description:"overflowMenuRef for the overflow menu width that is needed to calculate the width of the action bar with overflow",type:{name:"union",value:[{name:"shape",value:{current:{name:"elementType",required:!1}}},{name:"object"}]}},overflowItems:{required:!1,tsType:{name:"Array",elements:[{name:"ReactElement",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  onClick: () => void;
  renderIcon: CarbonIconType;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}},{key:"renderIcon",value:{name:"CarbonIconType",required:!0}}]}}],raw:"ReactElement<OverflowItem>"}],raw:"ReactElement<OverflowItem>[]"},description:"overflowItems: items to bre shown in the ActionBar overflow menu",type:{name:"arrayOf",value:{name:"element"}}},tabIndex:{required:!1,tsType:{name:"number"},description:"Optional tab index",type:{name:"number"}}},composes:["PropsWithChildren"]};const m=`${I.prefix}--action-bar`,H="ActionBar",ie={actions:Object.freeze([])};let w=j.forwardRef(({actions:o=ie.actions,className:h,maxVisible:c,menuOptionsClass:d,onWidthChange:f,overflowAriaLabel:a,overflowMenuRef:n,rightAlign:T,...A},V)=>{const[B,_]=t.useState(0),[G,J]=t.useState([]),[O,K]=t.useState(null),Q=t.useRef(L()),W=t.useRef(null),q=t.useRef(null),x=t.useRef({}),U=t.useRef(null),$=V||U;t.useEffect(()=>{K(r.jsx("div",{className:`${m}__hidden-sizing-items`,"aria-hidden":!0,ref:q,children:r.jsxs("span",{children:[r.jsx(v,{className:`${m}__hidden-sizing-item`,overflowAriaLabel:"hidden sizing overflow items",overflowMenuRef:n,overflowItems:[],tabIndex:-1},"hidden-overflow-menu"),o.map(({key:s,id:i,...b})=>t.createElement(u,{...b,"data-original-id":i,key:`hidden-item-${s}`,className:`${m}__hidden-sizing-item`,tabIndex:-1}))]})}))},[o,n]),t.useEffect(()=>{const s=o.map(({key:b,...l})=>t.createElement(u,{...l,key:b})),i=s.splice(B);i.length&&s.push(r.jsx(v,{menuOptionsClass:d,overflowAriaLabel:a,overflowMenuRef:n,overflowItems:i},`overflow-menu-${Q.current}`)),J(s)},[o,B,a,d,n]);const z=()=>{var s;if(q.current){const i=Array.from(q.current.querySelectorAll(`.${m}__hidden-sizing-item`)),b=i.shift();let l=(s=W.current)==null?void 0:s.offsetWidth,p=0,C=0;const X=c?Math.min(c,i.length):i.length;for(let R=0;R<X;R++){const N=l&&l-i[R].offsetWidth;C+=i[R].offsetWidth,N&&N>=0&&(l=N,p+=1)}const k=b.offsetWidth;if(p<i.length)for(;p>0&&l&&l<k;)p-=1,l+=i[p].offsetWidth;f&&(x.current.minWidth!==k||x.current.maxWidth!==C)&&(x.current.minWidth=k,x.current.maxWidth=C,f({minWidth:k,maxWidth:C})),p<1?_(0):_(p)}};t.useEffect(()=>{z()},[c,O]);const E=()=>{z()};return M(q,E),M($,E),r.jsxs("div",{...A,className:g([m,h]),ref:$,children:[O,r.jsx("div",{ref:W,className:g([`${m}__displayed-items`,{[`${m}__displayed-items--right`]:T}]),children:G})]})});w=I.checkComponentEnabled(w,H);w.displayName=H;w.propTypes={actions:e.arrayOf(e.shape({...Y(D.propTypes,["kind","size","tooltipPosition","tooltipAlignment"]),id:e.string,key:e.string.isRequired,iconDescription:e.string.isRequired,label:e.string.isRequired,renderIcon:D.propTypes.renderIcon.isRequired,onClick:e.func})),className:e.string,maxVisible:e.number,menuOptionsClass:e.string,onWidthChange:e.func,overflowAriaLabel:e.string.isRequired,overflowMenuRef:e.oneOfType([e.shape({current:e.elementType}),e.object]),rightAlign:e.bool};w.__docgenInfo={description:"The ActionBar is used internally by the PageHeader to wrap ActionBarItems.",methods:[],displayName:"ActionBar",props:{actions:{required:!1,tsType:{name:"unknown"},description:`Specifies the action bar items. Each item is specified as an object
with required fields: key for array rendering, renderIcon, iconDescription and
label to provide the icon to display,
and optional 'onClick' to receive notifications when the button is clicked.
Additional fields in the object will be passed to the
Button component, and these can include 'disabled', 'ref', 'className',
and any other Button props.

Note that the Button props 'kind', 'size',
'tooltipPosition', 'tooltipAlignment' and 'type' are ignored, as these
cannot be used for an action bar item.

Carbon Button API https://react.carbondesignsystem.com/?path=/docs/components-button--default#component-api`,defaultValue:{value:"Object.freeze([])",computed:!0},type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},key:{name:"string",required:!0},iconDescription:{name:"string",required:!0},label:{name:"string",required:!0},renderIcon:{name:"custom",raw:"Button.propTypes.renderIcon.isRequired",required:!0},onClick:{name:"func",required:!1}}}}},className:{required:!1,tsType:{name:"string"},description:"className",type:{name:"string"}},maxVisible:{required:!1,tsType:{name:"number"},description:"maxVisible : Maximum action bar items visible before going into the overflow menu",type:{name:"number"}},menuOptionsClass:{required:!1,tsType:{name:"string"},description:"class name applied to the overflow options",type:{name:"string"}},onWidthChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(sizes: { minWidth: number; maxWidth: number }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ minWidth: number; maxWidth: number }",signature:{properties:[{key:"minWidth",value:{name:"number",required:!0}},{key:"maxWidth",value:{name:"number",required:!0}}]}},name:"sizes"}],return:{name:"void"}}},description:"onItemCountChange - event reporting maxWidth",type:{name:"func"}},overflowAriaLabel:{required:!0,tsType:{name:"string"},description:"overflowAriaLabel label for open close button overflow used for action bar items that do nto fit.",type:{name:"string"}},overflowMenuRef:{required:!1,tsType:{name:"ForwardedRef",elements:[{name:"HTMLDivElement"}],raw:"ForwardedRef<HTMLDivElement>"},description:"overflowMenuRef for the overflow menu width that is needed to calculate the width of the action bar with overflow",type:{name:"union",value:[{name:"shape",value:{current:{name:"elementType",required:!1}}},{name:"object"}]}},rightAlign:{required:!1,tsType:{name:"boolean"},description:"align tags to right of available space",type:{name:"bool"}}},composes:["PropsWithChildren"]};export{w as A};
