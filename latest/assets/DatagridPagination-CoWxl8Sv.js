import{I as q,j as pe}from"./settings-DrdbGLhD.js";import{u as me,c as I,_ as fe}from"./deprecate-D9ms-jbM.js";import{P as e}from"./index-Dk74W0Oi.js";import{R as s,r as c}from"./index-BwDkhjyp.js";import{S as M}from"./Select-6Q3XWoES.js";import{S as F}from"./SelectItem-6xvzMKZ0.js";import{h as de}from"./events-Bq7WR1mU.js";import{C as be,a as xe}from"./bucket-1-Bggqt_K0.js";function Se(n,i){if(!Array.isArray(n)||!Array.isArray(i)||n.length!==i.length)return!1;if(n===i)return!0;for(let l=0;l<n.length;l++)if(n[l]!==i[l])return!1;return!0}var A,O;function j(n){return typeof n[0]=="object"&&n[0]!==null?n:n.map(i=>({text:i,value:i}))}function Pe(n){let i=1;const l=[];for(;i<=n;)l.push(s.createElement(F,{key:i,value:i,text:String(i)})),i++;return l}function B(n,i){return i&&n.find(P=>i===P.value)?i:n[0].value}const U=s.forwardRef(function(i,l){let{backwardText:P="Previous page",className:z="",disabled:f=!1,forwardText:N="Next page",id:C,isLastPage:G=!1,itemText:H=(t,r)=>`${t}–${r} items`,itemRangeText:J=(t,r,m)=>`${t}–${r} of ${m} items`,itemsPerPageText:K="Items per page:",onChange:u,pageNumberText:he="Page Number",pageRangeText:R=(t,r)=>`of ${r} ${r===1?"page":"pages"}`,page:_=1,pageInputDisabled:Q,pageSize:h,pageSizeInputDisabled:V,pageSizes:$,pageText:y=(t,r)=>`page ${r?"":t}`,pagesUnknown:p=!1,size:k="md",totalItems:v=1,...W}=i;const a=me(),T=de(C==null?void 0:C.toString()),d=c.useRef(null),b=c.useRef(null),[E,X]=c.useState(()=>j($)),[Y,Z]=c.useState($),[o,x]=c.useState(_),[ee,te]=c.useState(_),[g,w]=c.useState(()=>B(E,h)),[ae,ne]=c.useState(h),ie=I({[`${a}--pagination`]:!0,[`${a}--pagination--${k}`]:k,[z]:!!z}),S=Math.max(Math.ceil(v/g),1),D=f||o===1,se=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--backward`]:!0,[`${a}--pagination__button--no-index`]:D}),L=f||o===S,re=I({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--forward`]:!0,[`${a}--pagination__button--no-index`]:L}),oe=Pe(S);if(_!==ee&&(x(_),te(_)),h!==ae&&(w(B(E,h)),ne(h)),!Se($,Y)){const t=j($);t.find(m=>m.value===g)||x(1),X(t),Z($)}function le(t){const m={pageSize:Number(t.target.value),page:1};x(m.page),w(m.pageSize),u&&u(m)}function ge(t){const r=Number(t.target.value);r>0&&r<=Math.max(Math.ceil(v/g),1)&&(x(r),u&&u({page:r,pageSize:g}))}function ue(){const t=o+1;x(t),t===S&&(d!=null&&d.current)&&d.current.focus(),u&&u({page:t,pageSize:g,ref:d})}function ce(){const t=o-1;x(t),t===1&&(b!=null&&b.current)&&b.current.focus(),u&&u({page:t,pageSize:g,ref:b})}return s.createElement("div",fe({className:ie,ref:l},W),s.createElement("div",{className:`${a}--pagination__left`},s.createElement("label",{id:`${a}-pagination-select-${T}-count-label`,className:`${a}--pagination__text`,htmlFor:`${a}-pagination-select-${T}`},K),s.createElement(M,{id:`${a}-pagination-select-${T}`,className:`${a}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:le,disabled:V||f,value:g},E.map(t=>s.createElement(F,{key:t.value,value:t.value,text:String(t.text)}))),s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__items-count`},p?H(g*(o-1)+1,o*g):J(Math.min(g*(o-1)+1,v),Math.min(o*g,v),v))),s.createElement("div",{className:`${a}--pagination__right`},p?s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__page-text`},p?y(o,p):R(o,S)):null,s.createElement(M,{id:`${a}-pagination-select-${T}-right`,className:`${a}--select__page-number`,labelText:`Page number, of ${S} pages`,inline:!0,hideLabel:!0,onChange:ge,value:o,disabled:Q||f},oe),p?null:s.createElement("span",{className:`${a}--pagination__text`},p?y(o,p):R(o,S)),s.createElement("div",{className:`${a}--pagination__control-buttons`},s.createElement(q,{align:"top",disabled:D,kind:"ghost",className:se,label:P,onClick:ce,ref:d},A||(A=s.createElement(be,null))),s.createElement(q,{align:"top-right",disabled:L||G,kind:"ghost",className:re,label:N,onClick:ue,ref:b},O||(O=s.createElement(xe,null))))))});U.propTypes={backwardText:e.string,className:e.string,disabled:e.bool,forwardText:e.string,id:e.oneOfType([e.string,e.number]),isLastPage:e.bool,itemRangeText:e.func,itemText:e.func,itemsPerPageText:e.string,onChange:e.func,page:e.number,pageInputDisabled:e.bool,pageNumberText:e.string,pageRangeText:e.func,pageSize:e.number,pageSizeInputDisabled:e.bool,pageSizes:e.oneOfType([e.arrayOf(e.number.isRequired),e.arrayOf(e.shape({text:e.string.isRequired,value:e.number.isRequired}).isRequired)]).isRequired,pageText:e.func,pagesUnknown:e.bool,size:e.oneOf(["sm","md","lg"]),totalItems:e.number};const _e=({state:n,setPageSize:i,gotoPage:l,rows:P})=>{const z=({page:f,pageSize:N})=>{console.log(n),i(N),l(f-1)};return pe.jsx(U,{page:n.pageIndex+1,pageSize:n.pageSize,pageSizes:n.pageSizes||[10,20,30,40,50],totalItems:P.length,onChange:z})};_e.__docgenInfo={description:"",methods:[],displayName:"DatagridPagination"};export{_e as D};
