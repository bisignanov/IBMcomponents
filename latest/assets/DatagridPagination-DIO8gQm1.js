import{I as D,j as pe}from"./settings-B0yoEqB-.js";import{u as me,f as fe,c as E,_ as de}from"./useMergedRefs-CY5AfkP4.js";import{P as e}from"./index-Dk74W0Oi.js";import{R as s,r as p}from"./index-BwDkhjyp.js";import{S as L}from"./Select-Bw-VMwxr.js";import{S as j}from"./SelectItem-Cm4JUxjM.js";import{f as be,g as xe}from"./events-D6dlm1BF.js";function _e(n,i){if(!Array.isArray(n)||!Array.isArray(i)||n.length!==i.length)return!1;if(n===i)return!0;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}var q,M;function A(n){return typeof n[0]=="object"&&n[0]!==null?n:n.map(i=>({text:i,value:i}))}function Se(n){let i=1;const o=[];for(;i<=n;)o.push(s.createElement(j,{key:i,value:i,text:String(i)})),i++;return o}function O(n,i){return i&&n.find(f=>i===f.value)?i:n[0].value}const B=s.forwardRef(function(i,o){let{backwardText:f="Previous page",className:v="",disabled:d=!1,forwardText:z="Next page",id:T,isLastPage:F=!1,itemText:U=(t,r)=>`${t}–${r} items`,itemRangeText:G=(t,r,m)=>`${t}–${r} of ${m} items`,itemsPerPageText:H="Items per page:",onChange:u,pageNumberText:he="Page Number",pageRangeText:J=(t,r)=>`of ${r} ${r===1?"page":"pages"}`,page:S=1,pageInputDisabled:K,pageSize:P,pageSizeInputDisabled:Q,pageSizes:h,pageText:V=t=>`page ${t}`,pagesUnknown:I=!1,size:R="md",totalItems:c,...W}=i;const a=me(),N=fe(T==null?void 0:T.toString()),b=p.useRef(null),x=p.useRef(null),[C,X]=p.useState(()=>A(h)),[Y,Z]=p.useState(h),[l,_]=p.useState(S),[ee,te]=p.useState(S),[g,k]=p.useState(()=>O(C,P)),[ae,ne]=p.useState(P),ie=E({[`${a}--pagination`]:!0,[`${a}--pagination--${R}`]:R,[v]:!!v}),$=c?Math.max(Math.ceil(c/g),1):NaN,y=d||l===1,se=E({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--backward`]:!0,[`${a}--pagination__button--no-index`]:y}),w=d||l===$,re=E({[`${a}--pagination__button`]:!0,[`${a}--pagination__button--forward`]:!0,[`${a}--pagination__button--no-index`]:w}),oe=Se($);if(S!==ee&&(_(S),te(S)),P!==ae&&(k(O(C,P)),ne(P)),!_e(h,Y)){const t=A(h);t.find(m=>m.value===g)||_(1),X(t),Z(h)}function le(t){const m={pageSize:Number(t.target.value),page:1};_(m.page),k(m.pageSize),u&&u(m)}function ge(t){const r=Number(t.target.value);r>0&&c&&r<=Math.max(Math.ceil(c/g),1)&&(_(r),u&&u({page:r,pageSize:g}))}function ue(){const t=l+1;_(t),t===$&&(b!=null&&b.current)&&b.current.focus(),u&&u({page:t,pageSize:g,ref:b})}function ce(){const t=l-1;_(t),t===1&&(x!=null&&x.current)&&x.current.focus(),u&&u({page:t,pageSize:g,ref:x})}return s.createElement("div",de({className:ie,ref:o},W),s.createElement("div",{className:`${a}--pagination__left`},s.createElement("label",{id:`${a}-pagination-select-${N}-count-label`,className:`${a}--pagination__text`,htmlFor:`${a}-pagination-select-${N}`},H),s.createElement(L,{id:`${a}-pagination-select-${N}`,className:`${a}--select__item-count`,labelText:"",hideLabel:!0,noLabel:!0,inline:!0,onChange:le,disabled:Q||d,value:g},C.map(t=>s.createElement(j,{key:t.value,value:t.value,text:String(t.text)}))),s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__items-count`},I||!c?U(g*(l-1)+1,l*g):G(Math.min(g*(l-1)+1,c),Math.min(l*g,c),c))),s.createElement("div",{className:`${a}--pagination__right`},I?s.createElement("span",{className:`${a}--pagination__text ${a}--pagination__page-text ${a}--pagination__unknown-pages-text`},V(l)):s.createElement(s.Fragment,null,s.createElement(L,{id:`${a}-pagination-select-${N}-right`,className:`${a}--select__page-number`,labelText:`Page number, of ${$} pages`,inline:!0,hideLabel:!0,onChange:ge,value:l,disabled:K||d},oe),s.createElement("span",{className:`${a}--pagination__text`},J(l,$))),s.createElement("div",{className:`${a}--pagination__control-buttons`},s.createElement(D,{align:"top",disabled:y,kind:"ghost",className:se,label:f,"aria-label":f,onClick:ce,ref:b},q||(q=s.createElement(be,null))),s.createElement(D,{align:"top-right",disabled:w||F,kind:"ghost",className:re,label:z,"aria-label":z,onClick:ue,ref:x},M||(M=s.createElement(xe,null))))))});B.propTypes={backwardText:e.string,className:e.string,disabled:e.bool,forwardText:e.string,id:e.oneOfType([e.string,e.number]),isLastPage:e.bool,itemRangeText:e.func,itemText:e.func,itemsPerPageText:e.string,onChange:e.func,page:e.number,pageInputDisabled:e.bool,pageNumberText:e.string,pageRangeText:e.func,pageSize:e.number,pageSizeInputDisabled:e.bool,pageSizes:e.oneOfType([e.arrayOf(e.number.isRequired),e.arrayOf(e.shape({text:e.string.isRequired,value:e.number.isRequired}).isRequired)]).isRequired,pageText:e.func,pagesUnknown:e.bool,size:e.oneOf(["sm","md","lg"]),totalItems:e.number};const Pe=({state:n,setPageSize:i,gotoPage:o,rows:f})=>{const v=({page:d,pageSize:z})=>{console.log(n),i(z),o(d-1)};return pe.jsx(B,{page:n.pageIndex+1,pageSize:n.pageSize,pageSizes:n.pageSizes||[10,20,30,40,50],totalItems:f.length,onChange:v})};Pe.__docgenInfo={description:"",methods:[],displayName:"DatagridPagination"};export{Pe as D};
