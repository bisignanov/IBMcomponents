import{p as z,j as r,B as O,I as E}from"./settings-DrdbGLhD.js";import{R as P,r as n}from"./index-BwDkhjyp.js";import{c as y}from"./deprecate-D9ms-jbM.js";import{P as s}from"./index-Dk74W0Oi.js";import{u as B}from"./uuidv4-BQrI85uz.js";import{A as D,m as M,D as W,E as H}from"./motionConstants-DFa43y0E.js";import{d as G}from"./debounce-Bo8k2pkZ.js";import{g as U}from"./devtools-B_UYo462.js";import{u as J}from"./usePreviousValue-DDnp_zt4.js";import{u as K}from"./useWindowResize-HTxQvUhS.js";import{T as L}from"./TagSet-BFk9_FMX.js";import{k as Q}from"./events-Bq7WR1mU.js";const t=`${z.prefix}--filter-summary`,g=P.forwardRef(({className:w="",clearFiltersText:S="Clear filters",clearFilters:R,filters:F,renderLabel:c,overflowType:N="default",clearButtonInline:j=!0,...$},b)=>{var h,x;const q=`${t}__${B()}`,k=F.map(({key:l,value:i,...m})=>({...m,type:"gray",label:(c==null?void 0:c(l,i))??`${l}: ${i}`})),o=n.useRef(null),u=n.useRef(null),a=n.useRef(null)||b,[f,A]=n.useState(0),[e,d]=n.useState(!1),p=J({multiline:e})||{},C=()=>{if(f===0){d(!1);return}d(l=>!l)},I=typeof((h=u==null?void 0:u.current)==null?void 0:h.offsetWidth)>"u"?0:f>0?48:0,V=(((x=o==null?void 0:o.current)==null?void 0:x.offsetWidth)||0)+I,v=l=>r.jsx(M.div,{initial:{opacity:0,y:-16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:W.moderate01,ease:H.productive.entrance},children:r.jsx(L,{allTagsModalSearchLabel:"Search all tags",allTagsModalSearchPlaceholderText:"Search all tags",allTagsModalTitle:"All tags",showAllTagsLabel:"View all tags",tags:k,overflowType:N,className:y({[`${t}__clear-button-inline`]:j}),containingElementRef:a,measurementOffset:V,onOverflowTagChange:i=>A(i==null?void 0:i.length),multiline:e})},l);return K(()=>{G(()=>{var m,T;e&&((m=a==null?void 0:a.current)!=null&&m.offsetHeight)&&((T=a==null?void 0:a.current)==null?void 0:T.offsetHeight)<=50&&d(!1)},500)()},[p==null?void 0:p.multiline,e]),r.jsxs("div",{...U(_),id:q,...$,ref:a,className:y([t,w],{[`${t}__expanded`]:e}),children:[r.jsxs(D,{exitBeforeEnter:!0,children:[!e&&v("single"),e&&v("multiline")]}),r.jsx(O,{kind:"ghost",size:"sm",onClick:R,ref:o,className:`${t}__clear-all-button`,children:S}),(f>0||e)&&r.jsx("div",{className:`${t}__view-all--wrapper`,children:r.jsx(E,{ref:u,kind:"ghost",label:"View all",className:`${t}__view-all--trigger`,align:"left",onClick:C,size:"sm",children:r.jsx(Q,{className:y(`${t}__view-all--chevron`,{[`${t}__view-all--chevron-multiline`]:e})})})})]})}),_="FilterSummary";g.displayName=_;g.propTypes={className:s.string,clearButtonInline:s.bool,clearFilters:s.func.isRequired,clearFiltersText:s.string,filters:s.arrayOf(s.object).isRequired,overflowType:s.oneOf(["default","tag"]),renderLabel:s.func};g.__docgenInfo={description:"",methods:[],displayName:"FilterSummary",props:{className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},clearButtonInline:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},clearFilters:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",type:{name:"func"}},clearFiltersText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Clear filters'",computed:!1},type:{name:"string"}},filters:{required:!0,tsType:{name:"Array",elements:[{name:"Filter"}],raw:"Filter[]"},description:"",type:{name:"arrayOf",value:{name:"object"}}},overflowType:{required:!1,tsType:{name:"union",raw:"'default' | 'tag'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'tag'"}]},description:"",defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'tag'",computed:!1}]}},renderLabel:{required:!1,tsType:{name:"signature",type:"function",raw:"(key, value) => void",signature:{arguments:[{name:"key"},{name:"value"}],return:{name:"void"}}},description:"",type:{name:"func"}}}};export{g as F};
