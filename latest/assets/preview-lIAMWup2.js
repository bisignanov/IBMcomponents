import{v as A}from"./v4-CQkTLCs1.js";const{addons:S}=__STORYBOOK_MODULE_PREVIEW_API__,{global:f}=__STORYBOOK_MODULE_GLOBAL__,{ImplicitActionsDuringRendering:T}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var j="storybook/actions",I=`${j}/action-event`,w={depth:10,clearOnStoryChange:!0,limit:50},u=(t,r)=>{let e=Object.getPrototypeOf(t);return!e||r(e)?e:u(e,r)},D=t=>!!(typeof t=="object"&&t&&u(t,r=>/^Synthetic(?:Base)?Event$/.test(r.constructor.name))&&typeof t.persist=="function"),P=t=>{if(D(t)){let r=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));r.persist();let e=Object.getOwnPropertyDescriptor(r,"view"),n=e==null?void 0:e.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(r,"view",{...e,value:Object.create(n.constructor.prototype)}),r}return t},M=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?A():Date.now().toString(36)+Math.random().toString(36).substring(2);function _(t,r={}){let e={...w,...r},n=function(...o){var g,d;if(r.implicit){let y=(g="__STORYBOOK_PREVIEW__"in f?f.__STORYBOOK_PREVIEW__:void 0)==null?void 0:g.storyRenders.find(l=>l.phase==="playing"||l.phase==="rendering");if(y){let l=!((d=window==null?void 0:window.FEATURES)!=null&&d.disallowImplicitActionsInRenderV8),O=new T({phase:y.phase,name:t,deprecated:l});if(l)console.warn(O);else throw O}}let i=S.getChannel(),c=M(),a=5,s=o.map(P),b=o.length>1?s:s[0],h={id:c,count:0,data:{name:t,args:b},options:{...e,maxDepth:a+(e.depth||3),allowFunction:e.allowFunction||!1}};i.emit(I,h)};return n.isAction=!0,n.implicit=r.implicit,n}var m=(t,r)=>typeof r[t]>"u"&&!(t in r),v=t=>{let{initialArgs:r,argTypes:e,id:n,parameters:{actions:o}}=t;if(!o||o.disable||!o.argTypesRegex||!e)return{};let i=new RegExp(o.argTypesRegex);return Object.entries(e).filter(([c])=>!!i.test(c)).reduce((c,[a,s])=>(m(a,r)&&(c[a]=_(a,{implicit:!0,id:n})),c),{})},F=t=>{let{initialArgs:r,argTypes:e,parameters:{actions:n}}=t;return n!=null&&n.disable||!e?{}:Object.entries(e).filter(([o,i])=>!!i.action).reduce((o,[i,c])=>(m(i,r)&&(o[i]=_(typeof c.action=="string"?c.action:i)),o),{})},E=[F,v],p=Symbol.for("tinyspy:spy"),V=t=>{let{args:r,parameters:{actions:e}}=t;e!=null&&e.disable||Object.entries(r).filter(([,n])=>typeof n=="function"&&"_isMockFunction"in n&&n._isMockFunction).forEach(([n,o])=>{var c;let i=o.getMockImplementation()??(p in o?(c=o[p])==null?void 0:c.getOriginal():void 0);if((i==null?void 0:i._actionAttached)!==!0&&(i==null?void 0:i.isAction)!==!0){let a=(...s)=>(_(n)(...s),i==null?void 0:i(...s));a._actionAttached=!0,o.mockImplementation(a)}})},R=[V];const B=Object.freeze(Object.defineProperty({__proto__:null,argsEnhancers:E,loaders:R,tinySpyInternalState:p},Symbol.toStringTag,{value:"Module"})),k=Object.freeze(Object.defineProperty({__proto__:null,argsEnhancers:E,loaders:R,tinySpyInternalState:p},Symbol.toStringTag,{value:"Module"}));export{k as a,B as p};
