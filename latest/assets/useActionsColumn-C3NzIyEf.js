import{p as O,j as n,I as S}from"./settings-DEdZ0TrD.js";import{R as E,r as B}from"./index-BwDkhjyp.js";import{a as T,_ as W,c as I}from"./floating-ui.core.mjs-LzsX8FoD.js";import{P as z}from"./index-Dk74W0Oi.js";import{O as F,a as q}from"./index-wQDODWB9.js";import{p as G}from"./props-helper-Bq60RLbY.js";const R=o=>{let{className:w,...A}=o;const c=T();return E.createElement("div",W({className:I(`${c}--icon--skeleton`,w)},A))};R.propTypes={className:z.string};const s=`${O.prefix}--datagrid`,X=o=>{const w=c=>{const{rowActions:e,isFetching:a,state:{selectedRowIds:r}}=c,l=i=>!!Object.keys(r).map($=>Number($)).includes(i);if(e&&Array.isArray(e)){const i=(d,$)=>{const{cell:v}=$,{row:t,column:k}=v;if(k.isAction){const x=!!k.sticky;return[d,{children:n.jsxs("div",{className:`${s}__actions-column-contents`,children:[a&&n.jsx(R,{className:`${s}__actions-column-loading`}),!a&&e.length<=2&&!x&&n.jsx("div",{className:`${s}_actions-column`,children:e.map((u,y)=>{const m=G(u,["isDelete"]),{align:_,id:g,itemText:p,onClick:f,icon:j,shouldHideMenuItem:b,shouldDisableMenuItem:h,disabled:M,...C}=m,D=typeof b=="function"&&b(t),H=typeof h=="function"?h(t):M;if(D)return null;const N=j;return n.jsx("div",{className:I(`${s}__actions-column-button`,{[`${s}__disabled-row-action-button`]:l(t.index)}),children:n.jsx(S,{...C,align:_||"top",label:p,kind:"ghost",name:p,className:I({[`${s}__disabled-row-action`]:l(t.index)}),onClick:P=>{l(t.index)||(P.stopPropagation(),f==null||f(g,t,P))},disabled:H,children:N&&n.jsx(N,{})})},`${p}__${y}`)})}),!a&&(e.length>2||x)&&n.jsx("div",{children:n.jsx(F,{align:"left",size:"sm",flipped:!0,onClick:u=>{u.stopPropagation()},children:e.map(u=>{const{id:y,onClick:m,shouldHideMenuItem:_,shouldDisableMenuItem:g,disabled:p,...f}=u,j=typeof _=="function"&&_(t),b=typeof g=="function"?g(t):p;return j?null:B.createElement(q,{...f,disabled:b,onClick:h=>{h.stopPropagation(),m==null||m(y,t,h)},key:y})})})})]}),className:I({[`${s}__actions-column-cell`]:!0,[`${s}__cell`]:!0,[`${s}__actions-column-cell-non-sticky`]:!x}),style:{width:e.length>2||x?48:96}}]}return[d]};o.getCellProps.push(i)}},A=c=>{const{rowActions:e}=c;if(e&&Array.isArray(e)){const a=(r,l)=>{const{column:i}=l;if(i.isAction){const d=!!i.sticky;return[r,{style:{...r.style,width:e.length>2||d?48:96}}]}return[r]};o.getHeaderProps.push(a)}};o.useInstance.push(A),o.useInstance.push(w)};export{X as u};
