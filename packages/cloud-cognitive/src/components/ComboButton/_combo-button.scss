//
// Copyright IBM Corp. 2020, 2021
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

@import '../../global/styles/project-settings';

@import 'carbon-components/scss/components/button/button';
@import 'carbon-components/scss/components/overflow-menu/overflow-menu';

@include exports($name: combo-button) {
  /// Sets the prefix for all IBM Security-specific classes.
  /// @access private
  /// @type String
  $blockClass: #{$pkg-prefix}--combo-button;

  .#{$blockClass} {
    position: relative;
    display: inline-flex;
  }

  .#{$blockClass}__action {
    @include text-overflow;
  }

  .#{$blockClass}
    .#{$blockClass}__overflow-menu {
    width: carbon--mini-units($count: 6);
    height: auto;
    border-left: carbon--rem($px: 1px) solid $ui-03;
    background-color: $interactive-01;
  }

  .#{$blockClass}
    .#{$prefix}--overflow-menu-options[data-floating-menu-direction='bottom']::after {
    visibility: hidden;
  }

  .#{$blockClass}__overflow-menu.#{$prefix}--overflow-menu:hover,
  .#{$blockClass}__overflow-menu.#{$prefix}--overflow-menu--open,
  .#{$blockClass}__overflow-menu.#{$prefix}--overflow-menu.#{$prefix}--overflow-menu--open,
  .#{$blockClass}__overflow-menu.#{$prefix}--overflow-menu.#{$prefix}--overflow-menu--open:hover {
    background-color: $hover-primary;
  }

  .#{$blockClass}__overflow-menu.#{$prefix}--overflow-menu:active {
    background-color: $active-primary;
  }

  .#{$blockClass}__overflow-menu__icon {
    fill: $icon-03;
    pointer-events: none;
  }

  .#{$blockClass}__overflow-menu__list.#{$prefix}--overflow-menu-options {
    width: 100%;
  }

  .#{$blockClass}__overflow-menu__list:after {
    display: none;
  }

  .#{$blockClass}__overflow-menu__item {
    position: relative;
    max-width: none;
  }

  .#{$blockClass}__overflow-menu__item__icon {
    margin-left: auto;
  }

  .#{$prefix}--btn.#{$prefix}--btn--lg:not(.#{$prefix}--btn--icon-only) {
    align-items: center;
  }
}
