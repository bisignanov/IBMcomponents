/*
* Licensed Materials - Property of IBM
* 5724-Q36
* (c) Copyright IBM Corp. 2020 - 2022
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
*/

@import './variables';

.#{$carbon-prefix}--data-table tr.#{$block-class}__carbon-nested-row {
  border-left: 1px solid transparent;

  .#{$block-class}__cell {
    border-bottom: 1px solid $ui-03;
  }
}

.#{$block-class} .#{$block-class}__expander-icon {
  transition: transform $duration--fast-01 motion(entrance, productive);
}

.#{$block-class} .#{$block-class}__expander-icon--open {
  transform: rotate(90deg);
}

.#{$block-class}__expanded-row
  .#{$block-class}__carbon-row-expanded
  td:first-child {
  border-bottom: none;
}

.#{$block-class} .#{$block-class}__carbon-row-expandable,
.#{$block-class}
  tr.#{$block-class}__carbon-nested-row
  td.#{$block-class}__cell:not(.#{$block-class}__expandable-row-cell) {
  position: relative;
}

.#{$block-class}
  tr.#{$block-class}__carbon-nested-row
  + :not(tr.#{$block-class}__carbon-nested-row)::after {
  position: absolute;
  /* stylelint-disable-next-line carbon/layout-token-use */
  top: -1px;
  left: 0;
  width: 100%;
  height: 1px;
  background-color: $border-subtle;
  content: '';
}

.#{$block-class} tr.#{$block-class}__carbon-nested-row {
  td:first-child:empty,
  .#{$block-class}__expandable-row-cell {
    border-bottom: none;
  }
}

.#{$carbon-prefix}--data-table td.#{$block-class}__expandable-row-cell {
  padding-left: $spacing-03;
}

.#{$carbon-prefix}--data-table td.#{$block-class}__expandable-row-cell + td,
.#{$carbon-prefix}--data-table
  .#{$block-class}__carbon-nested-row:not(
    .#{$block-class}__carbon-row-expandable
  )
  td.#{$block-class}__cell:nth-of-type(2) {
  position: relative;
}

.#{$carbon-prefix}--data-table
  td.#{$block-class}__expandable-row-cell.#{$block-class}__expandable-row-cell--is-expanded
  + td.#{$block-class}__checkbox-cell__checkbox-cell {
  border-top: none;
}

.#{$carbon-prefix}--data-table
  td.#{$block-class}__expandable-row-cell.#{$block-class}__expandable-row-cell--is-expanded
  + td::before,
.#{$carbon-prefix}--data-table
  .#{$block-class}__carbon-nested-row:not(
    .#{$block-class}__carbon-row-expandable
  )
  td.#{$block-class}__cell:nth-of-type(2)::before,
.#{$carbon-prefix}--data-table
  .#{$block-class}__carbon-nested-row
  td.#{$block-class}__expandable-row-cell
  + td::before {
  position: absolute;
  /* stylelint-disable-next-line carbon/layout-token-use */
  bottom: -1px;
  left: 0;
  width: 1rem;
  height: 1px;
  background-color: $ui-01;
  content: '';
  transition: background-color $duration--fast-01 motion(entrance, productive);
}

.#{$carbon-prefix}--data-table
  tr:hover
  td.#{$block-class}__expandable-row-cell.#{$block-class}__expandable-row-cell--is-expanded
  + td::before,
.#{$carbon-prefix}--data-table
  .#{$block-class}__carbon-nested-row:hover
  td.#{$block-class}__expandable-row-cell
  + td::before,
.#{$carbon-prefix}--data-table
  .#{$block-class}__expandable-row--hover
  td.#{$block-class}__expandable-row-cell
  + td::before,
.#{$carbon-prefix}--data-table
  .#{$block-class}__carbon-nested-row:hover:not(
    .#{$block-class}__carbon-row-expandable
  )
  td.#{$block-class}__cell:nth-of-type(2)::before {
  background-color: $layer-hover;
}

.#{$block-class}__carbon-row-expanded {
  .#{$block-class}__expandable-row-cell {
    border-bottom: none;
  }
}
