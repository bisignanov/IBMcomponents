//
// Copyright IBM Corp. 2023, 2023
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

// Standard imports.
@import '../../global/styles/project-settings';
@import '../../global/styles/mixins';

// stylelint-disable carbon/layout-token-use
// stylelint-disable carbon/motion-duration-use
// stylelint-disable carbon/motion-easing-use
// stylelint-disable declaration-no-important

// Define all component styles in a mixin which is then exported using
// the Carbon import-once mechanism.
@mixin interstitial-screen {
  // The block part of our conventional BEM class names (blockClass__E--M).
  $block-class: #{$pkg-prefix}--interstitial-screen;
  $carousel-item: #{$pkg-prefix}--carousel__item;
  $one-grid-column: calc(100% / 16);

  .#{$block-class} {
    $block: &;

    position: fixed;
    z-index: 6001;
    top: 0;
    right: 0;
    left: 0;

    #{$block}--auto-height-container {
      flex: 1;
    }

    &--progress {
      margin-bottom: $spacing-10;
    }

    &--body {
      flex-grow: 1;
    }

    &--body-grid {
      display: flex;
      height: 100%;
    }

    &__carousel {
      .#{$carousel-item} {
        flex: 0 0 100% !important;
      }
    }

    &--container {
      min-width: carbon--mini-units(94);
      max-width: 1312px;
      //padding: 0 $one-grid-column;
      margin: calc($spacing-10 * 2) auto; // 8rem
      background-color: $ui-background;
    }

    &--content {
      padding-right: $spacing-05;
      margin: $spacing-10 0 carbon--mini-units(24);
    }

    &--carousel {
      margin-left: calc($spacing-07 * -1);
    }

    &--media-container {
      min-height: 456px;
    }

    &--media {
      height: 100%;
      @include carbon--breakpoint(lg) {
        margin-right: calc($spacing-07 * -1);
      }
      @include carbon--breakpoint(xlg) {
        margin-right: calc($spacing-08 * -1);
      }
    }

    &--stepped-animated-media {
      overflow: hidden;
      height: 100%;
    }

    // FOOTER
    &--footer {
      display: flex;
      width: 100%;
      flex-direction: row;
      justify-content: flex-end;
      // padding: 0 $spacing-05 !important;
      border-top: 1px solid $ui-04;
      #{$block}--skip-btn {
        margin-right: auto;
      }
      #{$block}--prev-btn,
      #{$block}--next-btn,
      #{$block}--start-btn {
        width: calc($one-grid-column * 3);
        min-width: carbon--mini-units(29);
      }
    }

    &--footer-controls {
      margin-left: auto;
    }

    // MODAL (settings exclusive of "FULL SCREEN")
    &.modal {
      opacity: 0;
      transition: opacity 240ms cubic-bezier(0.4, 0.14, 1, 1),
        visibility 0ms linear 240ms;

      @media (prefers-reduced-motion) {
        transition: none;
      }

      &.is-visible {
        opacity: 1;
        transition: opacity 240ms cubic-bezier(0, 0, 0.3, 1),
          visibility 0ms linear;
        @media (prefers-reduced-motion) {
          transition: none;
        }
      }

      #{$block}--header {
        position: relative; // to help position the close icon
        #{$block}--close-icon {
          position: absolute !important;
          z-index: 1;
          top: 0;
          right: 0;
          padding: 0 $spacing-03;
        }
      }
    }

    // FULL SCREEN (settings exclusive of "MODAL")
    &.full-screen {
      #{$block}--container {
        display: flex;
        max-width: 100vw;
        height: 100vh;
        flex-direction: column;
        padding: 0;
        margin: 0;
      }

      // e.g. "IBM Cloud Pak | Security"
      // ..."IBM Cloud Pak"
      #{$block}--header {
        @include carbon--type-style('body-long-01');

        height: $spacing-09; // 3rem
        padding-left: $spacing-05;
        border-bottom: 1px solid $ui-03;
        background-color: $ui-background;
        // stylelint-disable-next-line carbon/type-token-use
        font-weight: normal !important; // overrides type style above
        // stylelint-disable-next-line carbon/type-token-use
        line-height: $spacing-09 !important;
        // ..."Security"
        b {
          // stylelint-disable-next-line carbon/type-token-use
          font-weight: var(--cds-heading-01-font-weight, 600);
        }
      }
    }
  }
}

@include exports('interstitial-screen') {
  @include interstitial-screen;
}
