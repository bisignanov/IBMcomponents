import{p as C,j as e,B as k}from"./settings-DrdbGLhD.js";import{r as s,R as B}from"./index-BwDkhjyp.js";import{P as i}from"./index-Dk74W0Oi.js";import{u as E,c as P}from"./deprecate-D9ms-jbM.js";import{u as S}from"./useResizeObserver-CYrpFlRY.js";import{B as I}from"./ButtonSet-CqsYbwZH.js";import{M,a as T}from"./index-DiG8jNeo.js";import{p as F}from"./props-helper-D-fMQKH_.js";const n=`${C.prefix}--button-set-with-overflow`,L="ButtonSetWithOverflow",m="md",y=({buttons:l,className:j,onWidthChange:z,buttonSetOverflowLabel:N,menuOptionsClass:R,rightAlign:$})=>{const O=E(),[W,A]=s.useState(!1),h=s.useRef(null),x=s.useRef(null),g=s.useRef(null),d=s.useRef({}),b=()=>{var o,r,u;const f=(o=h.current)==null?void 0:o.offsetWidth;let a=!0;const p=(r=x.current)==null?void 0:r.querySelectorAll(`.${O}--btn`);let t=0;for(let w of p)t+=w.offsetWidth;const c=(u=g.current)==null?void 0:u.offsetWidth;z&&(d.current.minWidth!==c||d.current.maxWidth!==t)&&(d.current.minWidth=c,d.current.maxWidth=t,z({...d.current})),t<=f&&(a=!1),A(a)};s.useEffect(()=>{b()},[l]);const v=B.forwardRef(({isHidden:f=!1,buttons:a,...p},t)=>e.jsx(I,{...p,ref:t,children:a.map(({label:c,key:o,kind:r,id:u,...w})=>{const q=r==="default"?"primary":r;return s.createElement(k,{...w,key:o&&`button-set-${o}`,size:m,type:"button",kind:q,id:u?f?`${u}--hidden`:u:null},c)})}));v.propTypes={isHidden:i.bool};const _=B.forwardRef(({buttons:f,...a},p)=>e.jsx(M,{...a,ref:p,label:N,children:f.map(({key:t,kind:c,...o})=>{const r=c==="danger"?"danger":"default";return s.createElement(T,{...F(o,["iconDescription","renderIcon"]),key:t&&`button-menu-${t}`,kind:r})}).reverse()}));return S(x,b),S(g,b),S(h,b),e.jsxs("div",{className:P([n,j,{[`${n}--right`]:$}]),ref:h,children:[e.jsx("div",{className:`${n}__button-container ${n}__button-container--hidden`,children:e.jsx(v,{"aria-hidden":!0,ref:x,size:m,buttons:l,isHidden:!0})}),e.jsx("div",{className:`${n}__button-container ${n}__button-container--hidden`,"aria-hidden":!0,children:e.jsx(_,{className:R,ref:g,buttons:l,size:m})}),e.jsx("div",{className:`${n}__button-container ${n}__button-container--visible`,children:W?e.jsx(_,{buttons:l,size:m,className:R}):e.jsx(v,{className:`${n}__button-container`,size:m,buttons:l})})]})};y.propTypes={buttonSetOverflowLabel:i.node.isRequired,buttons:i.array.isRequired,className:i.string,menuOptionsClass:i.string,onWidthChange:i.func,rightAlign:i.bool};y.displayName=L;y.__docgenInfo={description:"",methods:[],displayName:"ButtonSetWithOverflow",props:{buttonSetOverflowLabel:{description:"buttonSetOverflowLabel - used when button set is shown as combo button",type:{name:"node"},required:!0},buttons:{description:`Specifies the buttons for the ButtonSetWithOverflow. Each item is specified as an object
with the properties of a Carbon Button plus a label.

Carbon Button API https://react.carbondesignsystem.com/?path=/docs/components-button--default#component-api`,type:{name:"array"},required:!0},className:{description:"className",type:{name:"string"},required:!1},menuOptionsClass:{description:"class name applied to the overflow options",type:{name:"string"},required:!1},onWidthChange:{description:"onResize reports maxSize on resize",type:{name:"func"},required:!1},rightAlign:{description:"align buttons to right of available space",type:{name:"bool"},required:!1}}};export{y as B};
