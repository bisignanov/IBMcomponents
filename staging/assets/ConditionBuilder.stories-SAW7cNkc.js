import{H as Zt,p as Le,j as n,T as Xt,P as Yt,b as Jt,B as wt}from"./settings-BiUEFdm2.js";import{R as w,r as g}from"./index-BwDkhjyp.js";import{useMDXComponents as jt}from"./index-DlpNa54Y.js";import"./chunk-HLWAVYOI-DqhEdfox.js";import{e as Qt,i as en,C as tn}from"./index-Bn0fEmUD.js";import{u as qe,_ as ne,c as B,d as nn,C as qt,m as St,b4 as Nt,b2 as $t}from"./deprecate-D9ms-jbM.js";import{T as Ot}from"./TextInput-CjYtA_nO.js";import{P as e}from"./index-Dk74W0Oi.js";import{au as At}from"./bucket-5-BuK6y5Rd.js";import{V as kt}from"./bucket-6-CpWzItqu.js";import{W as on,a as Pt,aA as U}from"./bucket-17-CArjO86K.js";import{f as ke}from"./bucket-7-BXN9sQPr.js";import{aq as It}from"./bucket-4-CfqsrDTc.js";import{E as Rt}from"./bucket-16-C-1D9aPX.js";import{B as rn,d as Te}from"./bucket-1-Bggqt_K0.js";import{u as N}from"./uuidv4-BQrI85uz.js";import{g as an}from"./devtools-BPcQvzXy.js";import{L as sn}from"./index-DoBoZ-97.js";import{A as Dt,q as ln}from"./bucket-0-D7rUCVax.js";import{S as Bt}from"./Search-BxJEuMG1.js";import{k as cn,C as Lt,aZ as dn,aX as pn}from"./events-Bq7WR1mU.js";import{N as un}from"./NumberInput-CdfmSC9K.js";import{T as mn}from"./TextArea-DHwD8-7n.js";import{D as Xe,a as $e}from"./DatePicker-BQOv9A5v.js";import{S as Oe}from"./SelectItem-6xvzMKZ0.js";import{ar as Ht}from"./bucket-15-hkFEuqoG.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-CJvxHwuA.js";import"./index-BONylQH5.js";import"./iframe--N8dq0Yd.js";import"../sb-preview/runtime.js";import"./react-18-Dd3bHtks.js";import"./extends-CCbyfPlC.js";import"./index-C2eUe6cH.js";import"./index-BjQFKvNH.js";import"./isSymbol-BZYRlrjc.js";import"./index-DrFu-skq.js";import"./useNormalizedInputProps-DRpk_7sW.js";import"./Text-_TFgs5hl.js";import"./FormContext-C7kRVu4t.js";import"./useAnnouncer-MW4fVOqQ.js";import"./LayerContext-DbU-6VX4.js";import"./bucket-13-DC_Wi0nI.js";import"./bucket-14-u3bYiptr.js";const Ft=t=>{let{hideLabel:o,className:r,...a}=t;const l=qe();return w.createElement("div",ne({className:B(`${l}--form-item`,r)},a),!o&&w.createElement("span",{className:`${l}--label ${l}--skeleton`}),w.createElement("div",{className:`${l}--select ${l}--skeleton`},w.createElement("div",{className:`${l}--select-input`})))};Ft.propTypes={className:e.string,hideLabel:e.bool};const fn=Array.from({length:Zt.length-1}).map((t,o)=>o+1),Et=w.forwardRef(function(o,r){const{as:a="div",children:l,className:c,gap:s,orientation:d="vertical",...m}=o,u=qe(),p=B(c,{[`${u}--stack-${d}`]:!0,[`${u}--stack-scale-${s}`]:typeof s=="number"}),f={};return typeof s=="string"&&(f[`--${u}-stack-gap`]=s),w.createElement(a,ne({},m,{ref:r,className:p,style:f}),l)});Et.propTypes={as:e.elementType,children:e.node,className:e.string,gap:e.oneOfType([e.string,e.oneOf(fn)]),orientation:e.oneOf(["horizontal","vertical"])};const hn=w.forwardRef(function(o,r){return w.createElement(Et,ne({},o,{ref:r,orientation:"vertical"}))}),Gt=w.forwardRef(function(o,r){let{children:a,className:l,disabled:c=!1,hideLabel:s,id:d,invalidText:m="Invalid time format.",invalid:u=!1,warningText:p="Warning message.",warning:f=!1,labelText:j,light:x=!1,maxLength:T=5,onChange:h=()=>{},onClick:y=()=>{},onBlur:$=()=>{},pattern:R="(1[012]|[1-9]):[0-5][0-9](\\s)?",placeholder:H="hh:mm",readOnly:b,size:A="md",type:S="text",value:O,...F}=o;const k=qe(),[L,K]=w.useState(O),[re,C]=w.useState(O);O!==re&&(K(O),C(O));function v(V){c||(b||K(L),y(V))}function _(V){!c&&!b&&(K(L),h(V))}function q(V){c||(b||K(L),$(V))}const P=B(`${k}--time-picker__input-field`,`${k}--text-input`,[l],{[`${k}--text-input--light`]:x,[`${k}--time-picker__input-field-error`]:u||f}),W=B({[`${k}--time-picker`]:!0,[`${k}--time-picker--light`]:x,[`${k}--time-picker--invalid`]:u,[`${k}--time-picker--warning`]:f,[`${k}--time-picker--readonly`]:b,[`${k}--time-picker--${A}`]:A,...l&&{[l]:!0}}),ie=B(`${k}--label`,{[`${k}--visually-hidden`]:s,[`${k}--label--disabled`]:c}),ae=j?w.createElement("label",{htmlFor:d,className:ie},j):null;function se(){const V={onMouseDown:E=>{b&&(E.preventDefault(),E.target.focus())},onKeyDown:E=>{b&&["ArrowDown","ArrowUp"," "].includes(E.key)&&E.preventDefault()}};return w.Children.map(a,E=>{const M=E;if(M)return w.cloneElement(M,{...M.props,disabled:c,readOnly:b,...V})})}const le={readOnly:b};return w.createElement("div",{className:B(`${k}--form-item`,l)},ae,w.createElement("div",{className:W},w.createElement("div",{className:`${k}--time-picker__input`},w.createElement("input",ne({className:P,"data-invalid":u||void 0,disabled:c,id:d,maxLength:T,onClick:v,onChange:_,onBlur:q,placeholder:H,pattern:R,ref:r,type:S,value:O},F,le)),(u||f)&&w.createElement("div",{className:`${k}--time-picker__error__icon`},u?w.createElement(on,{className:`${k}--checkbox__invalid-icon`,size:16}):w.createElement(Pt,{className:`${k}--text-input__invalid-icon--warning`,size:16}))),se()),(u||f)&&w.createElement("div",{className:`${k}--form-requirement`},u?m:p))});Gt.propTypes={children:e.node,className:e.string,disabled:e.bool,hideLabel:e.bool,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node,light:nn(e.bool),maxLength:e.number,onBlur:e.func,onChange:e.func,onClick:e.func,pattern:e.string,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),type:e.string,value:e.string,warning:e.bool,warningText:e.node};const Pe=w.forwardRef(function(o,r){let{["aria-label"]:a="open list of options",children:l,id:c,disabled:s=!1,className:d,...m}=o;const u=qe(),p=B({[`${u}--select`]:!0,[`${u}--time-picker__select`]:!0,...d&&{[d]:!0}});return w.createElement("div",{className:p},w.createElement("select",ne({"aria-label":a,className:`${u}--select-input`,disabled:s,id:c,ref:r},m),l),w.createElement(cn,{className:`${u}--select__arrow`,"aria-hidden":"true"}))});Pe.propTypes={children:e.node,className:e.string,defaultValue:e.any,disabled:e.bool,id:e.string.isRequired};const Ie=w.createContext(1),He=w.forwardRef(function(o,r){let{as:a="section",level:l,...c}=o;const s=w.useContext(Ie),d=l??s+1,m=a;return w.createElement(Ie.Provider,{value:Math.min(d,6)},w.createElement(m,ne({ref:r},c)))});He.propTypes={as:e.elementType,children:e.node,className:e.string,level:e.number};const Fe=w.forwardRef(function(o,r){const a=`h${w.useContext(Ie)}`;return w.createElement(a,ne({ref:r},o))});Fe.propTypes={children:e.node,className:e.string};const Re=[{label:"if",id:"if",connector:"and"},{label:"excl.if",id:"excl_if",connector:"or"}],Vt=[{label:"and",id:"and"},{label:"or",id:"or"}],gn=[{label:"is",id:"is",type:"all"},{label:"is greater than",id:"greater",type:"number"},{label:"is greater than or equal to",id:"greaterEqual",type:"number"},{label:"is lower than",id:"lower",type:"number"},{label:"is lower than or equal to",id:"lowerEqual",type:"number"},{label:"starts with",id:"startsWith",type:"text,textarea"},{label:"ends with",id:"endsWith",type:"text,textarea"},{label:"contains",id:"contains",type:"text,textarea"},{label:"is one of",id:"oneOf",type:"option"},{label:"is before",id:"before",type:"date,time"},{label:"is after",id:"after",type:"date,time"},{label:"is between",id:"between",type:"date"}],i=`${Le.prefix}--condition-builder`,Ae=t=>{const o=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${o}/${r}/${a}`},bn={text:t=>t,textarea:t=>t,time:t=>t,number:t=>t,option:t=>t&&typeof t!="string"?(Array.isArray(t)?t:[t]).map(r=>r.label).join(", "):t,date:t=>{if(Array.isArray(t)&&t.length>1){const o=t!=null&&t[0]&&!isNaN(new Date(t[0]))?Ae(new Date(t[0])):"",r=t!=null&&t[1]&&!isNaN(new Date(t[1]))?Ae(new Date(t[1])):"";return`${o} To ${r}`}else return Array.isArray(t)&&!isNaN(new Date(t[0]))?Ae(new Date(t[0])):t},custom:t=>t},J=({className:t,label:o,hideLabel:r,tooltipAlign:a,renderIcon:l,onClick:c,showToolTip:s,wrapperProps:d,onBlur:m,onFocus:u,onMouseEnter:p,onMouseLeave:f,isInvalid:j,wrapperClassName:x,tabIndex:T,...h})=>{const y=()=>{const $=h["data-name"]??"";return n.jsxs("button",{tabIndex:T??-1,className:B([t,`${i}__button`,{[`${i}__text-ellipsis`]:s&&!r&&!j},{[`${i}__invalid-input`]:j}]),type:"button",onClick:c,onBlur:m,onFocus:u,onMouseEnter:p,onMouseLeave:f,"data-name":$,children:[l&&n.jsx(l,{}),!r&&n.jsx("span",{children:o}),j&&n.jsx(Pt,{})]})};return r||s?n.jsx(Xt,{label:o,align:a,className:`${x}`,...d,children:y()}):n.jsx(n.Fragment,{children:y()})};J.propTypes={className:e.string,hideLabel:e.bool,isInvalid:e.bool,label:e.string,onBlur:e.func,onClick:e.func,onFocus:e.func,onMouseEnter:e.func,onMouseLeave:e.func,renderIcon:e.oneOfType([e.func,e.object]),showToolTip:e.bool,tabIndex:e.number,tooltipAlign:e.string,wrapperClassName:e.string,wrapperProps:e.object};J.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderButton",props:{className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},hideLabel:{description:"decides if label and tooltip to be hidden",type:{name:"bool"},required:!1},isInvalid:{description:"boolean to know the updated value in not valid",type:{name:"bool"},required:!1},label:{description:"label of the button",type:{name:"string"},required:!1},onBlur:{description:"mouse events callbacks",type:{name:"func"},required:!1},onClick:{description:"callback triggered on click of add button",type:{name:"func"},required:!1},onFocus:{description:"",type:{name:"func"},required:!1},onMouseEnter:{description:"",type:{name:"func"},required:!1},onMouseLeave:{description:"",type:{name:"func"},required:!1},renderIcon:{description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},showToolTip:{description:"decides if  tooltip to be shown",type:{name:"bool"},required:!1},tabIndex:{description:"Tab index",type:{name:"number"},required:!1},tooltipAlign:{description:"tooltip position",type:{name:"string"},required:!1},wrapperClassName:{description:"classname applies to the wrapper of popover",type:{name:"string"},required:!1},wrapperProps:{description:"optional props for tree grid to add role and aria-label to wrapper span",type:{name:"object"},required:!1}}};const yn={operator:"or",groups:[{groupOperator:"and",statement:"if",id:N(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}]}]},z=g.createContext(),Ee=t=>{const[o,r]=g.useState({groups:[]}),[a,l]=g.useState([]);return n.jsx(z.Provider,{value:{rootState:o,setRootState:r,actionState:a,setActionState:l,inputConfig:t.inputConfig,popOverSearchThreshold:t.popOverSearchThreshold,getOptions:t.getOptions,variant:t.variant,translateWithId:t.translateWithId},children:t.children})};Ee.propTypes={children:e.node.isRequired,getOptions:e.func,inputConfig:e.shape({properties:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired,icon:e.oneOfType([e.func,e.object]),type:e.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,config:e.shape({options:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired,icon:e.oneOfType([e.func,e.object])})),component:e.func,operators:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired})),long:e.bool})}))}).isRequired,popOverSearchThreshold:e.number.isRequired,translateWithId:e.func,variant:e.string.isRequired};Ee.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderProvider",props:{children:{description:"Provide the contents of the ConditionBuilder.",type:{name:"node"},required:!0},getOptions:{description:`This is an optional callback function that will be triggered when options array is not passed in the inputConfig against a property. 
This can be a asynchronous function that need  to  return a promise, so it will allow to fetch options from API call.
options has to be in valid format
[{
          label: 'label',
          id: 'id',
        },...]`,type:{name:"func"},required:!1},inputConfig:{description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1},long:{name:"bool",required:!1}},required:!1}}},required:!1}}},required:!0},popOverSearchThreshold:{description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"},required:!0},translateWithId:{description:`Optional prop if you want to pass translation to the texts used . Otherwise this will the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message key will be one of [   "ifText",   "addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText",   "invalidNumberWarnText"
]`,type:{name:"func"},required:!1},variant:{description:"Provide the condition builder variant: sentence/ tree",type:{name:"string"},required:!0}}};const Ye={ifText:"if",excl_if:"excl.if",and:"and",or:"or",is:"is",greater:"is greater than",greaterEqual:"is greater than or equal to",lower:"is lower than",lowerEqual:"is lower than or equal to",startsWith:"starts with",endsWith:"ends with",contains:"contains",oneOf:"is one of",before:"is before",after:"is after",between:"is between",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup",conditionText:"Condition",propertyText:"Property",operatorText:"Operator",valueText:"Value",connectorText:"Connector",conditionRowText:"Condition row",removeConditionText:"Remove condition",addConditionRowText:"Add condition row",startText:"Start",endText:"End",clearSearchText:"Clear search input",actionsText:"Actions",then:"then",removeActionText:"Remove Action",addActionText:"Add action",invalidText:"Incomplete",invalidDateText:"Invalid Date",invalidNumberWarnText:"Invalid number, must be 0 or greater"},G=t=>{const{translateWithId:o}=g.useContext(z);return t.map(r=>o!=null&&o(r)?o(r):Ye[r]?Ye[r]:r)},D=({children:t,className:o,label:r,renderIcon:a,title:l,type:c,showToolTip:s,condition:d,popOverClassName:m,config:u,renderChildren:p,...f})=>{const j=g.useRef(null),x=g.useRef(null),[T,h]=g.useState(!1),[y,$,R,H]=G(["invalidText","addConditionText",r,"invalidDateText"]),b=()=>r==="INVALID"?{propertyLabel:y,isInvalid:!0}:r==="INVALID_DATE"?{propertyLabel:H,isInvalid:!0}:{isInvalid:!1,propertyLabel:f["data-name"]=="valueField"&&c?bn[c](r,u):R},{propertyLabel:A,isInvalid:S}=b();g.useEffect(()=>{if(d){const L=f["data-name"];(d.popoverToOpen&&L!==d.popoverToOpen||L=="valueField"&&c=="option"&&d.operator!=="oneOf")&&O(),d.popoverToOpen==L&&F()}else O()},[d,r]),g.useEffect(()=>{if(T&&j.current){const L=j.current.querySelector("input,textarea");L&&L.focus()}},[j,T]);const O=()=>h(!1),F=()=>h(!0),k=()=>h(!T);return n.jsxs(Yt,{open:T,isTabTip:!0,role:"gridcell",className:m,ref:x,onRequestClose:O,children:[n.jsx(J,{label:A??$,hideLabel:!r,onClick:k,className:o,"aria-haspopup":!0,"aria-expanded":T,renderIcon:a||(r==null?Dt:null),showToolTip:s,isInvalid:S,condition:d,...f}),T&&n.jsx(Jt,{className:`${i}__item__content`,role:"dialog","aria-label":l,children:n.jsxs(sn,{children:[n.jsx("h1",{className:`${i}__item__title`,children:l}),n.jsx("div",{ref:j,className:`${i}__popover-content`,children:p?p(x):t})]})})]})};D.propTypes={children:e.node,className:e.string,condition:e.object,config:e.object,label:e.oneOfType([e.string,e.array,e.object]),popOverClassName:e.string,renderChildren:e.func,renderIcon:e.oneOfType([e.func,e.object]),showToolTip:e.bool,title:e.string,type:e.string};D.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItem",props:{children:{description:"provide the contents of the popover",type:{name:"node"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},condition:{description:"current condition state object",type:{name:"object"},required:!1},config:{description:"this is the config object again the current property from inputConfig",type:{name:"object"},required:!1},label:{description:"text to be displayed in the field",type:{name:"union",value:[{name:"string"},{name:"array"},{name:"object"}]},required:!1},popOverClassName:{description:"class name for popover",type:{name:"string"},required:!1},renderChildren:{description:"callback prop that returns the jsx for children",type:{name:"func"},required:!1},renderIcon:{description:"Optional prop to allow overriding the icon rendering.",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},showToolTip:{description:"show tool tip",type:{name:"bool"},required:!1},title:{description:"title of the popover",type:{name:"string"},required:!1},type:{description:"input type",type:{name:"string"},required:!1}}};const X=({conditionState:t={},config:o={},onChange:r})=>{const{popOverSearchThreshold:a}=g.useContext(z),l=g.useRef(),[c,s]=G(["propertyText","clearSearchText"]),d=o.options,[m,u]=g.useState(""),p=t.value,f=d==null?void 0:d.filter(h=>h.label.toLowerCase().includes(m.toLowerCase()));g.useEffect(()=>{if(l.current){const h=l.current.querySelector("input, button,li");h&&h.focus()}},[d]);const j=(h,y)=>{r(y.id,h)},x=h=>{const{value:y}=h.target;u(y)},T=()=>t.label?t.label:t.property?t.property:c;if(d)return n.jsxs("div",{className:`${i}__item-option`,ref:l,children:[d.length>a&&n.jsx("div",{className:`${i}__item-option__search`,children:n.jsx(Bt,{size:"sm",labelText:s,closeButtonLabelText:s,onChange:x})}),n.jsx("ul",{"aria-label":T(),role:"listbox",children:f==null?void 0:f.map(h=>{const y=p===h.id,$=h.icon;return n.jsx("li",{tabIndex:0,role:"option","aria-selected":y,className:`${i}__item-option__option`,onKeyUp:()=>!1,onClick:R=>j(R,h),children:n.jsxs("div",{className:`${i}__item-option__option-content`,children:[n.jsxs("span",{className:`${i}__item-option__option-label`,children:[$&&n.jsx($,{}),h.label]}),y&&n.jsx(Lt,{className:`${i}__checkmark`})]})},h.id)})})]})};X.propTypes={conditionState:e.object,config:e.object,onChange:e.func};X.__docgenInfo={description:"",methods:[],displayName:"ItemOption",props:{conditionState:{defaultValue:{value:"{}",computed:!1},description:"current condition object",type:{name:"object"},required:!1},config:{defaultValue:{value:"{}",computed:!1},description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const be=t=>{setTimeout(()=>{var o,r,a,l;(r=(o=t.target.closest('[role="gridcell"]'))==null?void 0:o.querySelector("button"))==null||r.click(),(l=(a=t.target.closest('[role="gridcell"]'))==null?void 0:a.querySelector("button"))==null||l.focus()},0)},Y=t=>{setTimeout(()=>{t==null||t.focus()},0)},De=(t,o,r,a,l)=>{t==document.activeElement?o!==r.length-1?Y(r[o+1]):Y(r[a?0:r.length-1]):Array.from(r).indexOf(document.activeElement)==-1&&l&&Y(r[0])},Be=(t,o,r,a,l)=>{t==document.activeElement?Y(o!==0?r[o-1]:r[a?r.length-1:0]):Array.from(r).indexOf(document.activeElement)==-1&&l&&Y(r[r.length-1])},vn=(t,o)=>t[o],xe=({operator:t,className:o,onChange:r,...a})=>{const{variant:l}=g.useContext(z),[c]=G(["connectorText"]),s=g.useCallback((p,f)=>{f?p.classList.add("hoveredConnector"):p.classList.remove("hoveredConnector")},[]),d=p=>{let f=p.currentTarget.closest(".eachGroup");s(f,!0)},m=p=>{let f=p.currentTarget.closest(".eachGroup");s(f,!1)},u=(p,f)=>{r(p),be(f)};return l=="tree"?n.jsx("span",{className:`${o} ${i}__connector-disabled`,children:t}):n.jsx(D,{label:t,title:c,"data-name":"connectorField",onMouseEnter:d,onMouseLeave:m,onFocus:d,onBlur:m,...a,popOverClassName:o,className:`${i}__connector-button `,children:n.jsx(X,{config:{options:Vt},conditionState:{value:t,label:c},onChange:u})})};xe.propTypes={className:e.string,onChange:e.func,operator:e.string};xe.__docgenInfo={description:"",methods:[],displayName:"ConditionConnector",props:{className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},onChange:{description:"callback to update the current condition of the state tree",type:{name:"func"},required:!1},operator:{description:"string that defines the connector operator (and/or)",type:{name:"string"},required:!1}}};const Ge=({conditionState:t,config:o,onChange:r})=>{var d;const[a]=G(["invalidNumberWarnText"]),l=(m,{value:u})=>{!isNaN(u)&&c(u)?r(`${u} ${o.unit??""}`):r("INVALID")},c=m=>!(m>o.max||m<o.min),s=()=>{var m,u;return(u=(m=t.value)==null?void 0:m.split(" "))==null?void 0:u[0]};return n.jsx("div",{className:`${i}__item-number`,children:n.jsx(un,{label:t.property,hideLabel:!0,id:(d=t.property)==null?void 0:d.replace(/\s/g,""),invalidText:a,allowEmpty:!0,onChange:l,...o,defaultValue:s()})})};Ge.propTypes={conditionState:e.object,config:e.object,onChange:e.func};Ge.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemNumber",props:{conditionState:{description:"current condition object",type:{name:"object"},required:!1},config:{description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const we=({conditionState:t,onChange:o,config:r,type:a})=>{var c;const l={labelText:t.property,hideLabel:!0,value:t.value??"",id:(c=t.property)==null?void 0:c.replace(/\s/g,""),onChange:s=>{o(s.target.value)},...r};return n.jsx("div",{className:`${i}__item-text`,children:a=="textarea"?n.jsx(mn,{...l}):n.jsx(Ot,{...l})})};we.propTypes={conditionState:e.object,config:e.object,onChange:e.func,type:e.string};we.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemText",props:{conditionState:{description:"current condition object",type:{name:"object"},required:!1},config:{description:"config of the current property",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1},type:{description:"current input type",type:{name:"string"},required:!1}}};const xn=`${Le.prefix}--condition-builder`,Ve=({conditionState:t,onChange:o,parentRef:r})=>{const a=g.useRef(),[l,c]=G(["startText","endText"]),s=t.operator=="between"?"range":"single",d=m=>{o(m&&m.length>0?m:"INVALID_DATE")};return n.jsxs("div",{className:`${xn}__item-date `,children:[s=="single"&&n.jsx(Xe,{ref:a,dateFormat:"d/m/Y",datePickerType:"single",value:t.value,onClose:d,appendTo:r==null?void 0:r.current,children:n.jsx($e,{id:"datePicker",placeholder:"dd/mm/yyyy",labelText:t.property})}),s=="range"&&n.jsxs(Xe,{ref:a,dateFormat:"d/m/Y",datePickerType:s,onClose:d,value:t.value,appendTo:r==null?void 0:r.current,children:[n.jsx($e,{id:"datePickerStart",placeholder:"dd/mm/yyyy",labelText:l}),n.jsx($e,{id:"datePickerEnd",placeholder:"dd/mm/yyyy",labelText:c})]})]})};Ve.propTypes={conditionState:e.object,onChange:e.func,parentRef:e.object};Ve.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemDate",props:{conditionState:{description:"current condition object",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1},parentRef:{description:"reference to the popover node",type:{name:"object"},required:!1}}};const We=({onChange:t,config:o})=>{var f,j;const[r,a]=g.useState(""),[l,c]=g.useState("AM"),[s,d]=g.useState((f=o==null?void 0:o.timeZones)==null?void 0:f[0]);g.useEffect(()=>{let x=`${r??""} ${l??""} ${s??""}`;t(r?x:void 0)},[r,l,s]);const m=x=>{d(x.target.value)},u=x=>{c(x.target.value)},p=x=>{a(x.target.value)};return n.jsx("div",{className:`${i}__item-time`,children:n.jsxs(Gt,{id:"time-picker",labelText:"Select a time",onChange:p,children:[n.jsxs(Pe,{id:"time-picker-day-zone",onChange:u,children:[n.jsx(Oe,{value:"AM",text:"AM"}),n.jsx(Oe,{value:"PM",text:"PM"})]}),n.jsx(Pe,{id:"time-picker-time-zone",onChange:m,children:(j=o==null?void 0:o.timeZones)==null?void 0:j.map((x,T)=>n.jsx(Oe,{value:x,text:x},T))})]})})};We.propTypes={config:e.object,onChange:e.func};We.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderItemTime",props:{config:{description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const ye=({className:t,onClick:o,addConditionSubGroupHandler:r,showConditionSubGroupPreviewHandler:a,hideConditionSubGroupPreviewHandler:l,showConditionPreviewHandler:c,hideConditionPreviewHandler:s,enableSubGroup:d,buttonLabel:m,tabIndex:u})=>{const[p,f]=g.useState(!1),[j,x,T]=G(["addConditionText","addConditionRowText","addSubgroupText"]),h=()=>{f(!0)},y=()=>{f(!1)},$=()=>{s==null||s(),o()},R=()=>d?{onMouseEnter:c,onMouseLeave:s,onFocus:c,onBlur:s}:{},H=()=>({onMouseEnter:a,onMouseLeave:l,onFocus:a,onBlur:l}),b=d?{role:"gridcell"}:{};return n.jsxs("div",{className:`${t} ${i}__add-button-wrapper`,role:d?"none":"gridcell","aria-label":d?void 0:x,onMouseEnter:h,onMouseLeave:y,onFocus:h,onBlur:y,children:[n.jsx(J,{renderIcon:ln,onClick:$,...R(),wrapperProps:b,className:`${i}__add-button`,hideLabel:!0,"data-name":"addButton",label:m??j,tabIndex:u}),d&&n.jsx(J,{renderIcon:Ht,onClick:r,className:B(`${i}__add-condition-sub-group ${i}__gap-left`),hideLabel:!0,label:T,wrapperProps:b,wrapperClassName:B(`${i}__add-condition-sub-group-wrapper`,{[`${i}__add-condition-sub-group-wrapper--show`]:p}),...H()})]})};ye.propTypes={addConditionSubGroupHandler:e.func,buttonLabel:e.string,className:e.string,enableSubGroup:e.bool,hideConditionPreviewHandler:e.func,hideConditionSubGroupPreviewHandler:e.func,onClick:e.func,showConditionPreviewHandler:e.func,showConditionSubGroupPreviewHandler:e.func,tabIndex:e.number};ye.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderAdd",props:{addConditionSubGroupHandler:{description:"handler for hiding sub group preview",type:{name:"func"},required:!1},buttonLabel:{description:"tooltip label for plus button",type:{name:"string"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},enableSubGroup:{description:"boolean to enable sub groups for the tree variant",type:{name:"bool"},required:!1},hideConditionPreviewHandler:{description:"handler for hiding sub group preview",type:{name:"func"},required:!1},hideConditionSubGroupPreviewHandler:{description:"",type:{name:"func"},required:!1},onClick:{description:"callback triggered on click of add button",type:{name:"func"},required:!1},showConditionPreviewHandler:{description:"",type:{name:"func"},required:!1},showConditionSubGroupPreviewHandler:{description:"",type:{name:"func"},required:!1},tabIndex:{description:"Tab index",type:{name:"number"},required:!1}}};const Se=({conditionState:t={},config:o={},onChange:r})=>{const a=t.operator==="oneOf",{popOverSearchThreshold:l,getOptions:c,rootState:s}=g.useContext(z),[d,m]=G(["propertyText","clearSearchText"]),u=g.useRef(),[p,f]=g.useState(o.options),[j,x]=g.useState(""),T=p==null?void 0:p.filter(b=>b.label.toLowerCase().includes(j.toLowerCase())),h=Array.isArray(t.value)?t.value:t.value!==void 0?[t.value]:[];g.useEffect(()=>{!p&&c&&(async()=>{const A=await c(s,t);(A==null?void 0:A.length)>0&&Object.keys(A[0]).includes("label")&&Object.keys(A[0]).includes("id")&&f(A)})()},[]),g.useEffect(()=>{if(u.current){const b=u.current.querySelector("input, button,li");b&&b.focus()}},[p]);const y=b=>{b.currentTarget.dataset.selectedAll=="false"?r(void 0):r(p)},$=b=>{const{value:A}=b.target;x(A)},R=(b,A,S)=>{if(a)if(S){let O=h.filter(F=>F.id!==A.id);r(O.length>0?O:void 0,b)}else r([...h,A],b);else r(A,b)},H=()=>t.label?t.label:t.property?t.property:d;return p?n.jsxs("div",{className:`${i}__item-option`,ref:u,children:[p.length>l&&n.jsx("div",{className:`${i}__item-option__search`,children:n.jsx(Bt,{size:"sm",labelText:m,closeButtonLabelText:m,onChange:$})}),a&&n.jsxs("div",{className:`${i}__multiselectSelectionStatusContainer`,children:[n.jsx("h4",{children:n.jsxs("label",{children:[h.length,"/",p.length," Selected"]})}),n.jsx(wt,{kind:"ghost",size:"sm","data-selected-all":`${h.length==0}`,onClick:y,className:`${i}__selectAll-button`,children:h.length==0?"Select all":"Deselect all"})]}),n.jsx("ul",{"aria-label":H(),role:"listbox","data-multi-select":a,children:T==null?void 0:T.map(b=>{const A=h.map(O=>O.id).includes(b.id),S=b.icon;return n.jsx("li",{tabIndex:0,role:"option","aria-selected":A,className:`${i}__item-option__option`,onKeyUp:()=>!1,onClick:O=>R(O,b,A),children:n.jsx("div",{className:`${i}__item-option__option-content`,children:a?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`${i}__option-check-box`,children:A?n.jsx(dn,{}):n.jsx(pn,{})}),n.jsx("span",{className:`${i}__item-option__option-label`,children:b.label}),S&&n.jsx("span",{className:`${i}__option-icon`,children:n.jsx(S,{})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:`${i}__item-option__option-label`,children:[S&&n.jsx(S,{}),b.label]}),A&&n.jsx(Lt,{className:`${i}__checkmark`})]})})},b.id)})})]}):n.jsx(Ft,{})};Se.propTypes={conditionState:e.object,config:e.object,onChange:e.func};Se.__docgenInfo={description:"",methods:[],displayName:"ItemOptionForValueField",props:{conditionState:{defaultValue:{value:"{}",computed:!1},description:"current condition object",type:{name:"object"},required:!1},config:{defaultValue:{value:"{}",computed:!1},description:"current config object that this property is part of",type:{name:"object"},required:!1},onChange:{description:"callback to update state oin date change",type:{name:"func"},required:!1}}};const je=t=>{const{property:o,value:r,operator:a}=t.condition,{onRemove:l,onChange:c,condition:s,conjunction:d,onConnectorOperatorChange:m,isStatement:u,group:p,onStatementChange:f,conditionIndex:j,addConditionHandler:x,addConditionSubGroupHandler:T,aria:h,hideConditionSubGroupPreviewHandler:y,showConditionSubGroupPreviewHandler:$,hideConditionPreviewHandler:R,showConditionPreviewHandler:H,isLastCondition:b}=t,{inputConfig:A,variant:S}=g.useContext(z),[O,F]=g.useState(!1),[k,L,K,re,C]=G(["conditionRowText","conditionText","propertyText","operatorText","removeConditionText"]),v=I=>{var ee;return((ee=A.properties)==null?void 0:ee.filter(Ut=>Ut.id==I)[0])??{}},{icon:_,type:q,config:P,label:W}=v(o),ie={text:we,number:Ge,date:Ve,time:We,option:Se,custom:P==null?void 0:P.component,textarea:we},ae=o?ie[q]:null,se=(I,ee)=>{be(ee),f(I)},le=I=>{c({...s,property:I,operator:void 0,value:"",popoverToOpen:"operatorField"})},V=I=>{c({...s,operator:I,value:void 0,popoverToOpen:"valueField"})},ge=I=>{const ee={...s};delete ee.popoverToOpen,c({...ee,value:I})},E=()=>{F(!0)},M=()=>{F(!1)},Ce=()=>P!=null&&P.operators?P.operators:gn.filter(I=>I.type.indexOf(q)!=-1||I.type=="all"),_e=()=>S=="tree"?{"aria-level":h.level,"aria-posinset":h.posinset,"aria-setsize":h.setsize}:{},Q=I=>n.jsx(ae,{conditionState:{property:o,operator:a,value:r},onChange:ge,config:P,"data-name":"valueField",parentRef:I});return n.jsxs("div",{className:B(`${i}__condition-block`,{[`${i}__condition__deletion-preview`]:O},{[`${i}__gap-bottom`]:S=="tree"&&!(j+1>=p.conditions.length)},{[`${i}__gap ${i}__gap-bottom`]:S=="sentence"}),role:"row","aria-label":k,..._e(),children:[d?n.jsx(xe,{className:`${i}__gap`,operator:d,onChange:I=>m(I)}):n.jsx("div",{role:"gridcell"}),u&&n.jsx(D,{label:p.statement,title:L,"data-name":"connectorField",popOverClassName:`${i}__gap`,className:`${i}__statement-button`,children:n.jsx(X,{conditionState:{value:p.statement,label:L},onChange:se,config:{options:Re}})}),n.jsx(D,{label:W,title:K,renderIcon:_??null,className:`${i}__property-field`,"data-name":"propertyField",condition:s,type:q,children:n.jsx(X,{conditionState:{value:o,label:K},onChange:le,config:{options:A.properties}})}),o&&n.jsx(D,{label:a,title:re,"data-name":"operatorField",condition:s,type:q,children:n.jsx(X,{config:{options:Ce()},conditionState:{value:a,label:re},onChange:V})}),o&&a&&n.jsx(D,{label:r,type:q,title:W,showToolTip:!0,"data-name":"valueField",condition:s,config:P,renderChildren:Q}),n.jsx("span",{role:"gridcell","aria-label":C,children:n.jsx(J,{hideLabel:!0,label:C,onClick:l,onMouseEnter:E,onMouseLeave:M,onFocus:E,onBlur:M,renderIcon:qt,className:`${i}__close-condition`,"data-name":"closeCondition"})}),b(j,p.conditions)&&n.jsx(ye,{onClick:()=>{x(j)},addConditionSubGroupHandler:()=>{T(j)},showConditionSubGroupPreviewHandler:$,hideConditionSubGroupPreviewHandler:y,enableSubGroup:S=="tree",showConditionPreviewHandler:H,hideConditionPreviewHandler:R,className:`${i}__gap ${i}__gap-left`})]})};je.propTypes={addConditionHandler:e.func,addConditionSubGroupHandler:e.func,aria:e.object,condition:e.object,conditionIndex:e.number,conjunction:e.string,group:e.object,hideConditionPreviewHandler:e.func,hideConditionSubGroupPreviewHandler:e.func,isLastCondition:e.func,isStatement:e.bool,onChange:e.func,onConnectorOperatorChange:e.func,onRemove:e.func,onStatementChange:e.func,showConditionPreviewHandler:e.func,showConditionSubGroupPreviewHandler:e.func,state:e.object};je.__docgenInfo={description:"This component build each block of condition consisting of property, operator value and close button.",methods:[],displayName:"ConditionBlock",props:{addConditionHandler:{description:"callback to add a new condition",type:{name:"func"},required:!1},addConditionSubGroupHandler:{description:"callback to add a new condition subgroup",type:{name:"func"},required:!1},aria:{description:"object hold aria attributes",type:{name:"object"},required:!1},condition:{description:"",type:{name:"object"},required:!1},conditionIndex:{description:"",type:{name:"number"},required:!1},conjunction:{description:"string that decides to show the condition connector",type:{name:"string"},required:!1},group:{description:"object that hold the current group object where is condition is part of",type:{name:"object"},required:!1},hideConditionPreviewHandler:{description:"handler for hiding sub group preview",type:{name:"func"},required:!1},hideConditionSubGroupPreviewHandler:{description:"handler for hiding sub group preview",type:{name:"func"},required:!1},isLastCondition:{description:"",type:{name:"func"},required:!1},isStatement:{description:"boolean that decides to show the statement(if/ excl.if)",type:{name:"bool"},required:!1},onChange:{description:"callback to update the current condition of the state tree",type:{name:"func"},required:!1},onConnectorOperatorChange:{description:"callback to handle the connector(and/or) change",type:{name:"func"},required:!1},onRemove:{description:"callback for Remove a condition",type:{name:"func"},required:!1},onStatementChange:{description:"callback to handle the statement(if/ excl.if) change",type:{name:"func"},required:!1},showConditionPreviewHandler:{description:"handler for showing add condition preview",type:{name:"func"},required:!1},showConditionSubGroupPreviewHandler:{description:"handler for showing sub group preview",type:{name:"func"},required:!1},state:{description:"object that hold the current condition",type:{name:"object"},required:!1}}};const ve=({previewType:t,group:o})=>{const[r,a]=g.useState(!1),[l,c,s,d]=G(["valueText","operatorText","propertyText","ifText"]);g.useEffect(()=>{a(!0)},[]);const m=()=>n.jsxs("div",{className:`${i}__preview-condition`,children:[n.jsx(D,{label:l,renderIcon:rn}),n.jsx(D,{label:c}),n.jsx(D,{label:s})]});return n.jsxs(n.Fragment,{children:[t=="newGroup"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:B([`${i}__group__row ${i}__group-preview `,{[`${i}__group-preview-animate`]:r}]),children:n.jsx(D,{className:`${i}__statement-button`,label:o.groupOperator})}),n.jsxs("div",{"aria-hidden":!0,className:B([`${i}__group ${i}__condition-wrapper ${i}__group-preview ${i}__group-wrapper `,{[`${i}__group-preview-animate`]:r}]),children:[n.jsx("div",{className:`${i}__gap`,children:n.jsx(D,{className:`${i}__statement-button`,label:d})}),m()]})]}),t=="subGroup"&&n.jsx("div",{className:B([`${i}__group__row ${i}__group-preview `,{[`${i}__group-preview-animate`]:r}]),children:n.jsxs("div",{className:`${i}__condition-block  ${i}__gap`,children:[n.jsx(D,{label:o.groupOperator,className:`${i}__statement-button`,popOverClassName:`${i}__gap`}),n.jsxs("div",{className:`${i}__group ${i}__condition-wrapper`,children:[n.jsx(xe,{className:`${i}__gap ${i}__groupConnector`,operator:d}),m()]})]})}),t=="condition"&&n.jsx("div",{className:B([`${i}__group__row ${i}__group-preview `,{[`${i}__group-preview-animate`]:r}]),children:n.jsxs("div",{className:`${i}__condition-block  ${i}__gap`,children:[n.jsx(D,{label:o.groupOperator,className:`${i}__statement-button`,popOverClassName:`${i}__gap`}),m()]})})]})};ve.propTypes={group:e.object,previewType:e.oneOf(["condition","subGroup","newGroup"])};ve.__docgenInfo={description:"",methods:[],displayName:"ConditionPreview",props:{group:{description:"current conditional group",type:{name:"object"},required:!1},previewType:{description:"type of review to be displayed",type:{name:"enum",value:[{value:"'condition'",computed:!1},{value:"'subGroup'",computed:!1},{value:"'newGroup'",computed:!1}]},required:!1}}};const Ne=({group:t,aria:o,onRemove:r,onChange:a,conditionBuilderRef:l,className:c})=>{const[s,d]=G(["condition_builder_group","conditionText"]),{variant:m}=g.useContext(z),[u,p]=g.useState(-1),[f,j]=g.useState(-1),x=g.useRef(),T=(C,v,_)=>{t.conditions.length>1?(m=="tree"?R(v):$(v,_),a({...t,conditions:t.conditions.filter(q=>C!==q.id)})):r(v)},h=(C,v)=>{const _=[...t.conditions.slice(0,v),C,...t.conditions.slice(v+1)];a({...t,conditions:_})},y=C=>{let v={property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()};a({...t,conditions:[...t.conditions.slice(0,C+1),v,...t.conditions.slice(C+1)]})},$=(C,v)=>{var q,P,W;const _=(q=C.currentTarget.closest(`.${i}__group`))==null?void 0:q.querySelectorAll('[data-name="closeCondition"]');v==_.length-1?(P=_[v-1])==null||P.focus():(W=_[v+1])==null||W.focus()},R=C=>{var W,ie,ae,se,le,V,ge,E,M,Ce,_e;const v=(ie=(W=C.currentTarget)==null?void 0:W.closest('[role="row"]'))==null?void 0:ie.getAttribute("aria-level"),_=(se=(ae=C.currentTarget)==null?void 0:ae.closest('[role="row"]'))==null?void 0:se.getAttribute("aria-posinset"),q=(le=x.current)==null?void 0:le.querySelector(`[aria-level="${v}"][aria-posinset="${Number(_)+1}"]`),P=(V=x.current)==null?void 0:V.querySelector(`[aria-level="${v}"][aria-posinset="${Number(_)-1}"]`);if(q!=null&&q.classList.contains(`${i}__condition-block`))(ge=q==null?void 0:q.querySelector('[data-name="closeCondition"]'))==null||ge.focus();else if(P!=null&&P.classList.contains(`${i}__condition-block`))(E=P==null?void 0:P.querySelector('[data-name="closeCondition"]'))==null||E.focus();else{const Q=(M=x.current)==null?void 0:M.querySelectorAll(`[aria-level="${Number(v)-1}"][role="row"]`),I=(Ce=x.current)==null?void 0:Ce.querySelector(`[aria-level="${Number(v)+1}"][role="row"]`);I?I==null||I.focus():(Q==null?void 0:Q.length)>1&&((_e=Q[Q.length-2])==null||_e.focus())}},H=C=>{a({...t,conditions:[...t.conditions.slice(0,C+1),{groupOperator:"and",statement:"if",conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}],id:N()},...t.conditions.slice(C+1)]})},b=(C,v)=>C+1>=v.length||v.length-1!=C&&v[C+1].conditions,A=C=>{j(C)},S=()=>{j(-1)},O=C=>{p(C)},F=()=>{p(-1)},k=C=>{var _;const v=(_=Re.find(q=>q.id==C))==null?void 0:_.connector;a({...t,groupOperator:v,statement:C})},L=C=>{a({...t,groupOperator:C})},K=()=>{var C;return n.jsx("div",{className:`${c}  eachGroup`,children:n.jsx("div",{className:`${i}__condition-wrapper`,role:"grid","aria-label":s,children:(C=t==null?void 0:t.conditions)==null?void 0:C.map((v,_)=>n.jsx("div",{className:`${i}__group-wrapper`,children:n.jsx(je,{conjunction:_>0?t.groupOperator:void 0,aria:{level:o.level+1,posinset:_+1,setsize:t.conditions.length},isStatement:_==0,condition:v,group:t,conditionIndex:_,onChange:q=>{h(q,_)},addConditionHandler:y,onRemove:q=>{T(v.id,q,_)},onConnectorOperatorChange:L,onStatementChange:k,isLastCondition:b})},v.id))})})},re=()=>{var C;return n.jsxs("div",{className:`${c} ${i}__condition-wrapper`,role:o.level===1?"rowgroup":void 0,"aria-label":o.level==1?s:void 0,ref:x,children:[n.jsx("div",{tabIndex:0,role:"row","aria-level":o.level,"aria-posinset":o.posinset,"aria-setsize":o.setsize,children:n.jsx(D,{label:t.statement,title:d,"data-name":"connectorField",popOverClassName:`${i}__gap`,className:`${i}__statement-button`,children:n.jsx(X,{conditionState:{value:t.statement,label:d},onChange:(v,_)=>{be(_),k(v)},config:{options:Re}})})}),(C=t==null?void 0:t.conditions)==null?void 0:C.map((v,_)=>n.jsxs(g.Fragment,{children:[v.conditions?n.jsxs("div",{className:B(`${i}__condition-block subgroup  ${i}__gap`,{[`${i}__gap-bottom`]:t.conditions.length<_+1}),children:[n.jsx(xe,{className:`${i}__gap ${i}__groupConnector`,operator:t.groupOperator,"aria-hidden":!0}),n.jsx(Ne,{aria:{level:o.level+1,posinset:_+1,setsize:t.conditions.length},className:`${i}__group`,group:v,onChange:q=>{h(q,_)},onRemove:q=>{T(v.id,q)},conditionBuilderRef:l})]}):n.jsx("div",{children:n.jsx(je,{conjunction:_>0?t.groupOperator:void 0,aria:{level:o.level+1,posinset:_+1,setsize:t.conditions.length},isStatement:!1,condition:v,group:t,conditionIndex:_,addConditionHandler:y,addConditionSubGroupHandler:H,onChange:q=>{h(q,_)},onRemove:q=>{T(v.id,q)},onConnectorOperatorChange:L,onStatementChange:k,showConditionSubGroupPreviewHandler:()=>{A(_)},hideConditionSubGroupPreviewHandler:S,showConditionPreviewHandler:()=>{O(_)},hideConditionPreviewHandler:F,isLastCondition:b})}),_==f&&n.jsx(ve,{previewType:"subGroup",group:t}),_==u&&n.jsx(ve,{previewType:"condition",group:t})]},v.id))]})};return n.jsxs(n.Fragment,{children:[m=="tree"&&re(),m=="sentence"&&K()]})};Ne.propTypes={aria:e.object,className:e.string,conditionBuilderRef:e.object,group:e.object,onChange:e.func,onRemove:e.func};Ne.__docgenInfo={description:`state - this is the current group that is being rendered . This can be a inner group or outer group
All the inner components of group are called from here.
@returns`,methods:[],displayName:"ConditionGroupBuilder",props:{aria:{description:"object contains the aria attributes",type:{name:"object"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},conditionBuilderRef:{description:`className: PropTypes.string,
ref of condition builder`,type:{name:"object"},required:!1},group:{description:"",type:{name:"object"},required:!1},onChange:{description:"callback to update the current condition of the state tree",type:{name:"func"},required:!1},onRemove:{description:"call back to remove the particular group from the state tree",type:{name:"func"},required:!1}}};const Wt=()=>{const{rootState:t,setRootState:o}=g.useContext(z),[r]=G(["conditionText"]),a=l=>{o({...t,operator:l})};return n.jsx("div",{className:`${i}__group-separator ${i}__group-separator-row`,role:"row",tabIndex:-1,"aria-level":1,children:n.jsx(D,{label:t.operator,title:r,"data-name":"connectorField",popOverClassName:`${i}__gap`,className:`${i}__statement-button`,children:n.jsx(X,{conditionState:{value:t.operator,label:r},onChange:a,config:{options:Vt}})})})};Wt.__docgenInfo={description:"",methods:[],displayName:"GroupConnector"};const Me=({actions:t,className:o})=>{const{actionState:r,setActionState:a}=g.useContext(z),[l,c]=g.useState(-1),[s,d,m,u,p]=G(["actionsText","then","and","removeActionText","addActionText"]),f=()=>{const y={id:N(),label:void 0,popoverToOpen:"valueField"};a([...r,y])},j=(y,$)=>{const H={...t.find(b=>b.id===y),id:r[$].id};a([...r.slice(0,$),H,...r.slice($+1)])},x=y=>{a(r.filter($=>$.id!==y))},T=y=>{c(y)},h=()=>{c(-1)};return n.jsxs("div",{className:o,children:[n.jsx(He,{className:`${i}__heading`,level:4,children:n.jsx(Fe,{children:s})}),n.jsxs("div",{className:`${i}__condition-wrapper`,role:"grid",children:[r==null?void 0:r.map((y,$)=>n.jsxs("div",{role:"row",className:B(`${i}__condition-block ${i}__gap ${i}__gap-bottom`,{[`${i}__condition__deletion-preview`]:l==$}),children:[n.jsx(D,{className:`${i}__statement-button`,tabIndex:0,popOverClassName:`${i}__gap`,label:$===0?d:m}),n.jsx(D,{label:y.label,title:s,condition:y,"data-name":"valueField",type:"option",children:n.jsx(Se,{conditionState:{value:y.label},onChange:R=>j(R.id,$),config:{options:t}})}),n.jsx("span",{role:"gridcell","aria-label":u,children:n.jsx(J,{hideLabel:!0,label:u,onClick:()=>x(y.id),onMouseEnter:()=>T($),onMouseLeave:h,onFocus:()=>T($),onBlur:h,renderIcon:qt,className:`${i}__close-condition`,"data-name":"closeCondition"})}),r.length===$+1&&n.jsx(ye,{onClick:f,className:`${i}__gap ${i}__gap-left`,buttonLabel:p})]},y.id)),r.length===0&&n.jsx(ye,{onClick:f,className:`${i}__gap ${i}__gap-left`,buttonLabel:p,tabIndex:0})]})]})};Me.propTypes={actions:e.arrayOf(e.shape({id:e.oneOfType([e.string,e.number]).isRequired,label:e.string.isRequired})),className:e.string};Me.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderActions",props:{actions:{description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1}}};const ze=({startConditionLabel:t,conditionBuilderRef:o,getConditionState:r,getActionsState:a,initialState:l,actions:c})=>{var A;const{rootState:s,setRootState:d,variant:m,actionState:u}=g.useContext(z),[p,f]=g.useState(!1),[j,x]=g.useState(!1),[T]=G(["addConditionGroupText"]),h=()=>{x(!0)},y=()=>{x(!1)};g.useEffect(()=>{var S;(S=s==null?void 0:s.groups)!=null&&S.length?f(!0):f(!1),r&&r(s)},[s]),g.useEffect(()=>{a==null||a(u)},[u]);const $=()=>{f(!0),d(l??yn)},R=g.useCallback(S=>{d({...s,groups:s.groups.filter(O=>S!==O.id)})},[d,s]),H=(S,O)=>{const F=[...s.groups.slice(0,O),S,...s.groups.slice(O+1)];d({...s,groups:F})},b=()=>{const S={groupOperator:"and",statement:"if",id:N(),conditions:[{property:void 0,operator:"",value:"",popoverToOpen:"propertyField",id:N()}]};d({...s,groups:[...s.groups,S]})};return n.jsxs(n.Fragment,{children:[!p&&n.jsx(wt,{className:`${i}__addConditionText-button`,renderIcon:S=>n.jsx(Dt,{size:16,...S}),iconDescription:t,kind:"ghost",size:"sm",onClick:$,children:t}),p&&n.jsx(He,{className:`${i}__heading`,level:4,children:n.jsx(Fe,{children:"Condition"})}),n.jsxs("div",{className:`${i}__content-container`,role:"treegrid","aria-label":"condition builder tree",children:[s&&((A=s==null?void 0:s.groups)==null?void 0:A.map((S,O)=>n.jsxs("div",{className:`${i}__group-wrapper`,children:[n.jsx(Ne,{className:`${i}__group`,aria:{level:1,posinset:O*2+1,setsize:s.groups.length*2},group:S,onRemove:()=>{R(S.id)},onChange:F=>{H(F,O)},conditionBuilderRef:o}),O<s.groups.length-1&&n.jsx(Wt,{})]},S.id))),p&&n.jsxs(n.Fragment,{children:[m=="tree"&&n.jsx("div",{role:"row",tabIndex:-1,"aria-level":1,children:n.jsx(J,{renderIcon:Ht,onClick:b,onMouseEnter:h,onMouseLeave:y,onFocus:h,onBlur:y,className:`${i}__add-condition-group `,hideLabel:!0,label:T,wrapperProps:{role:"gridcell","aria-label":T}})}),j&&n.jsx(ve,{previewType:"newGroup",group:{groupOperator:s.operator}})]})]}),p&&c&&n.jsx(Me,{actions:c,className:`${i}__actions-container`,variant:m,conditionBuilderRef:o})]})};ze.propTypes={actions:e.arrayOf(e.shape({id:e.oneOfType([e.string,e.number]).isRequired,label:e.string.isRequired})),conditionBuilderRef:e.object,getActionsState:e.func,getConditionState:e.func.isRequired,initialState:e.shape({groups:e.arrayOf(e.shape({groupOperator:e.string.isRequired,statement:e.string.isRequired,conditions:e.arrayOf(e.oneOfType([e.shape({property:e.string.isRequired,operator:e.string.isRequired,value:e.oneOfType([e.string,e.arrayOf(e.shape({id:e.string,label:e.string})),e.shape({id:e.string,label:e.string})])}),e.object]))})),operator:e.string}),startConditionLabel:e.string.isRequired};ze.__docgenInfo={description:"",methods:[],displayName:"ConditionBuilderContent",props:{actions:{description:"optional array of object that give the list of actions.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}},required:!1},conditionBuilderRef:{description:"ref of condition builder",type:{name:"object"},required:!1},getActionsState:{description:"callback functions that will provide the updated action state back.",type:{name:"func"},required:!1},getConditionState:{description:"This is a callback function that returns the updated state",type:{name:"func"},required:!0},initialState:{description:"Optional prop if the condition building need to start from a predefined initial state",type:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!0},statement:{name:"string",required:!0},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!0},operator:{name:"string",required:!0},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}}},required:!1},startConditionLabel:{description:"",type:{name:"string"},required:!0}}};const Cn=(t,o,r)=>{const a=document.activeElement;_n(t)||(a.closest('[role="dialog"]')?Tn(t,a.closest('[role="dialog"]')):wn(t,o,r))},_n=t=>{var o,r;return!["Escape"].includes(t.key)&&(((o=t.target.closest(`.${i}__item-date`))==null?void 0:o.length)||((r=t.target.closest(`.${i}__item-time`))==null?void 0:r.length))},Tn=(t,o)=>{var s,d,m;const r=t.key,a=vn(t,"shiftKey"),l=(s=o.querySelector("ul"))==null?void 0:s.dataset.multiSelect;let c=[];switch(r){case"ArrowUp":o.querySelectorAll('[role="option"]').forEach((u,p,f)=>{Be(u,p,f)});break;case"ArrowDown":o.querySelectorAll('[role="option"]').forEach((u,p,f)=>{De(u,p,f)});break;case"Tab":c=[...Array.from(o.querySelectorAll(`.${i}__selectAll-button,[role="searchbox"]`)),o.querySelector('[role="option"]')],c.forEach((u,p,f)=>{a?Be(u,p,f,!0,!0):De(u,p,f,!0,!0)}),t.preventDefault();break;case" ":l==="true"&&(document.activeElement.type!=="button"&&((d=document.activeElement)==null||d.click()),t.preventDefault());break;case"Enter":l!=="true"&&document.activeElement.type!=="button"&&(be(t),(m=document.activeElement)==null||m.click());break;case"Escape":be(t);break}},wn=(t,o,r)=>{var a,l,c;switch(t.key){case"ArrowRight":if(t.preventDefault(),r=="tree"){let s=Array.from((a=t.target.closest('[role="row"]'))==null?void 0:a.querySelectorAll('[role="gridcell"] button'));if(t.target.getAttribute("role")=="row")s.length===1?Je(t,o,r):(l=s[0])==null||l.focus();else{let d=s.indexOf(t.target);d<s.length-1&&Y(s[d+1])}}else Qe(t,o);break;case"ArrowLeft":if(t.preventDefault(),r=="tree"){if(t.target.getAttribute("role")!=="row"){let s=Array.from((c=t.target.closest('[role="row"]'))==null?void 0:c.querySelectorAll('[role="gridcell"] button')),d=s.indexOf(t.target);d>0?Y(s[d-1]):t.target.closest('[role="row"]').focus()}}else Qe(t,o);break;case"ArrowUp":case"ArrowDown":t.preventDefault(),r=="tree"?Je(t,o,r):jn(t,o,r);break}},Ke=t=>{var o;return Array.from((o=t.current)==null?void 0:o.querySelectorAll('[role="row"]'))},Mt=(t,o)=>Ke(o).findIndex(a=>a.contains(t)),jn=(t,o,r)=>{const a=Ke(o),l=Mt(t.target,o);zt(t,l,a,r)};function Je(t,o,r){const a=Ke(o),l=Mt(t.target,o);let c=l;t.target.getAttribute("role")=="row"?(["ArrowDown","ArrowRight"].includes(t.key)?c+=1:t.key==="ArrowUp"&&(c-=1),c<0?c=0:c>=a.length&&(c=a.length-1),c!==l&&(a[l].setAttribute("tabindex","-1"),a[c].setAttribute("tabindex","0"),a[c].focus())):zt(t,l,a,r)}const zt=(t,o,r,a)=>{var d;let l=o;t.key==="ArrowUp"&&(l=o==0?o:o-1),t.key==="ArrowDown"&&(l=o===r.length-1?r.length-1:o+1);const c=r[l],s=t.target.dataset.name;c!=null&&c.querySelector(`[data-name="${s}"]`)?(d=c==null?void 0:c.querySelector(`[data-name="${s}"]`))==null||d.focus():a==="tree"&&(c==null||c.focus())},Qe=(t,o)=>{o.current.querySelectorAll('[role="gridcell"] button').forEach((r,a,l)=>{t.key==="ArrowRight"?De(r,a,l):Be(r,a,l)})},Ue="ConditionBuilder";let te=w.forwardRef(({className:t,inputConfig:o,startConditionLabel:r,popOverSearchThreshold:a,getOptions:l,initialState:c,getConditionState:s,getActionsState:d,variant:m="sentence",actions:u,translateWithId:p,...f},j)=>{const x=g.useRef(),T=j||x,h=y=>{Cn(y,T,m)};return n.jsx(Ee,{inputConfig:o,popOverSearchThreshold:a,getOptions:l,variant:m,translateWithId:p,children:n.jsx("div",{...f,className:B(i,t,{}),role:"main",ref:T,...an(Ue),children:n.jsx(hn,{className:`${i}__${m}`,onKeyDown:h,children:n.jsx(ze,{startConditionLabel:r,conditionBuilderRef:T,getConditionState:s,getActionsState:d,initialState:c,actions:u})})})})});te=Le.checkComponentEnabled(te,Ue);te.displayName=Ue;te.propTypes={actions:e.arrayOf(e.shape({id:e.oneOfType([e.string,e.number]).isRequired,label:e.string.isRequired})),className:e.string,getActionsState:e.func,getConditionState:e.func.isRequired,getOptions:e.func,initialState:e.shape({groups:e.arrayOf(e.shape({groupOperator:e.string.isRequired,statement:e.string.isRequired,conditions:e.arrayOf(e.oneOfType([e.shape({property:e.string.isRequired,operator:e.string.isRequired,value:e.oneOfType([e.string,e.arrayOf(e.shape({id:e.string,label:e.string})),e.shape({id:e.string,label:e.string})])}),e.object]))})),operator:e.string}),inputConfig:e.shape({properties:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired,icon:e.oneOfType([e.func,e.object]),type:e.oneOf(["text","textarea","number","date","option","time","custom"]).isRequired,config:e.shape({options:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired,icon:e.oneOfType([e.func,e.object])})),component:e.func,operators:e.arrayOf(e.shape({id:e.string.isRequired,label:e.string.isRequired}))})}))}).isRequired,popOverSearchThreshold:e.number.isRequired,startConditionLabel:e.string.isRequired,translateWithId:e.func,variant:e.oneOf(["tree","sentence"])};te.__docgenInfo={description:"TODO: A description of the component.",methods:[],displayName:"ConditionBuilder",props:{variant:{defaultValue:{value:"'sentence'",computed:!1},description:"Provide the condition builder variant: sentence/ tree",type:{name:"enum",value:[{value:"'tree'",computed:!1},{value:"'sentence'",computed:!1}]},required:!1},actions:{description:"optional array of actions",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!0},label:{name:"string",required:!0}}}},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},getActionsState:{description:"This is a callback that gives back the updated action state",type:{name:"func"},required:!1},getConditionState:{description:"This is a callback that gives back updated condition state",type:{name:"func"},required:!0},getOptions:{description:`This is a callback that get triggered when  you want to dynamically fetch options.
 Component call this when the option array is not passed against a property with type as option in the input config.
This is an asynchronous callback that can return a promise , and you need to resolve the promise with options array in the valid format.
You will receive the root condition state and current condition as the 2 arguments.
eg: const getOptions = async (conditionState,condition) => {
  switch (condition.property) {
    case 'continent':
      return new Promise((resolve) => {
        const continents=[{
      label: 'Africa',
      id: 'Africa',
    },...]
          resolve(continents);
      });
      default:
      return [];
  }
};`,type:{name:"func"},required:!1},initialState:{description:`Optional prop if you want to pass a saved condition state.
 This object should respect the structure of condition state that is available in getConditionState callback`,type:{name:"shape",value:{groups:{name:"arrayOf",value:{name:"shape",value:{groupOperator:{name:"string",required:!0},statement:{name:"string",required:!0},conditions:{name:"arrayOf",value:{name:"union",value:[{name:"shape",value:{property:{name:"string",required:!0},operator:{name:"string",required:!0},value:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}},{name:"shape",value:{id:{name:"string",required:!1},label:{name:"string",required:!1}}}],required:!1}}},{name:"object"}]},required:!1}}},required:!1},operator:{name:"string",required:!1}}},required:!1},inputConfig:{description:"This is a mandatory prop that defines the input to the condition builder.",type:{name:"shape",value:{properties:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1},type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'textarea'",computed:!1},{value:"'number'",computed:!1},{value:"'date'",computed:!1},{value:"'option'",computed:!1},{value:"'time'",computed:!1},{value:"'custom'",computed:!1}],required:!0},config:{name:"shape",value:{options:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0},icon:{name:"union",value:[{name:"func"},{name:"object"}],required:!1}}},required:!1},component:{name:"func",required:!1},operators:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},label:{name:"string",required:!0}}},required:!1}},required:!1}}},required:!1}}},required:!0},popOverSearchThreshold:{description:"Provide an mandatory numeric value that will be used to enable search option in the popovers with list.",type:{name:"number"},required:!0},startConditionLabel:{description:"Provide a label to the button that starts condition builder",type:{name:"string"},required:!0},translateWithId:{description:`Optional prop, if you need to pass translations to the texts on the component instead of the defined defaults.
This callback function will receive the message id and you need to return the corresponding text for that id.
The message id will be one of [   "ifText","addConditionText",   "addConditionGroupText",   "addSubgroupText",   "conditionText",   "propertyText",   "operatorText",   "valueText",   "connectorText",   "conditionRowText",   "removeConditionText",   "addConditionRowText",   "startText",   "endText",   "clearSearchText",   "actionsText",   "then",   "removeActionText",   "addActionText",   "invalidText", "invalidDateText",  "invalidNumberWarnText"]
]`,type:{name:"func"},required:!1}}};function et(t){const o={a:"a",h1:"h1",h2:"h2",li:"li",ul:"ul",...jt(),...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(o.h1,{id:"conditionbuilder",children:"ConditionBuilder"}),`
`,n.jsx(o.h2,{id:"table-of-contents",children:"Table of Contents"}),`
`,n.jsxs(o.ul,{children:[`
`,n.jsx(o.li,{children:n.jsx(o.a,{href:"#overview",children:"Overview"})}),`
`,n.jsx(o.li,{children:n.jsx(o.a,{href:"#example-usage",children:"Example usage"})}),`
`,n.jsx(o.li,{children:n.jsx(o.a,{href:"#component-api",children:"Component API"})}),`
`]}),`
`,n.jsx(o.h2,{id:"overview",children:"Overview"}),`
`,`
`,n.jsx(o.h2,{id:"example-usage",children:"Example usage"}),`
`,`
`,n.jsx(Qt,{children:n.jsx(en,{of:Z})}),`
`,n.jsx(o.h2,{id:"code-sample",children:"Code sample"}),`
`,`
`,n.jsx(o.h2,{id:"component-api",children:"Component API"}),`
`,n.jsx(tn,{})]})}function qn(t={}){const{wrapper:o}={...jt(),...t.components};return o?n.jsx(o,{...t,children:n.jsx(et,{...t})}):et(t)}const Sn="",Ze=({onChange:t,conditionState:o})=>{const r=a=>{t(a.target.value)};return n.jsx("div",{className:"custom-component",children:n.jsx(Ot,{labelText:"labelText",hideLabel:!0,value:o.value??"",id:"customInput",onChange:r})})};Ze.propTypes={conditionState:e.object,onChange:e.func};Ze.__docgenInfo={description:"",methods:[],displayName:"CustomInput",props:{conditionState:{description:"current condition state",type:{name:"object"},required:!1},onChange:{description:"This function need to be called that provides a label which should be shown in the condition after a user has made their selection / set their value",type:{name:"func"},required:!1}}};const Nn=[{label:"is greater than",id:"greater"},{label:"is greater than or equal to",id:"greaterEqual"}],he={properties:[{id:"continent",label:"Continent",icon:At,type:"option",config:{options:[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}]}},{id:"region",label:"Region",icon:kt,type:"option",config:{options:[{label:"Afghanistan",id:"AF",icon:U},{label:"Albania",id:"AL",icon:U},{label:"Algeria",id:"AG",icon:U},{label:"Andorra",id:"AN",icon:U},{label:"India",id:"India",icon:U}]}},{id:"color",label:"Color",icon:St,type:"option",config:{options:[{label:"black",id:"black"},{label:"silver",id:"silver"},{label:"gray",id:"gray"},{label:"white",id:"white"},{label:"maroon",id:"maroon"},{label:"red",id:"red"},{label:"purple",id:"purple"},{label:"fuchsia",id:"fuchsia"},{label:"green",id:"green"},{label:"lime",id:"lime"},{label:"olive",id:"olive"},{label:"yellow",id:"yellow"},{label:"navy",id:"navy"},{label:"blue",id:"blue"},{label:"teal",id:"teal"},{label:"aqua",id:"aqua"}]}},{id:"id",label:"ID",icon:ke,type:"text",config:{}},{id:"id_long",label:"Id Long",icon:ke,type:"textarea",config:{}},{id:"price",label:"Price",icon:Nt,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:Te,type:"date",config:{}},{id:"time",label:"Time",icon:Te,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"delivery",label:"Delivery",icon:It,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Rt,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}},{id:"product",label:"Product",icon:$t,type:"custom",config:{component:Ze,operators:Nn}}]},$n={properties:[{id:"continent",label:"Continent",icon:At,type:"option",config:{}},{id:"region",label:"Region",icon:kt,type:"option",config:{}},{id:"color",label:"Color",icon:St,type:"option",config:{}},{id:"id",label:"ID",icon:ke,type:"text",config:{}},{id:"price",label:"Price",icon:Nt,type:"number",config:{min:0,step:1,unit:"Dollars"}},{id:"date",label:"Date",icon:Te,type:"date",config:{}},{id:"time",label:"Time",icon:Te,type:"time",config:{timeZones:["IST","CET","UTC","LOCAL"]}},{id:"product",label:"Product",icon:$t,type:"text",config:{}},{id:"delivery",label:"Delivery",icon:It,type:"option",config:{options:[{label:"Processing",id:"Processing"},{label:"Preparing for dispatch",id:"Preparing for dispatch"},{label:"Dispatched",id:"Dispatched"},{label:"In delivery",id:"In delivery"},{label:"Delivered",id:"Delivered"}]}},{id:"season",label:"Season",icon:Rt,type:"option",config:{options:[{label:"Winter",id:"Winter"},{label:"Spring",id:"Spring"},{label:"Summer",id:"Summer"},{label:"Fall",id:"Fall"}]}}]},On={operator:"or",groups:[{groupOperator:"and",statement:"if",id:N(),conditions:[{property:"region",operator:"is",value:"IL",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{groupOperator:"and",statement:"if",id:N(),conditions:[{property:"region",operator:"is",value:"IL",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{groupOperator:"and",statement:"if",id:N(),conditions:[{property:"region",operator:"is",value:"IL",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"delivery",operator:"is",value:"processing",id:N()}]}]}]},{groupOperator:"and",statement:"if",id:N(),conditions:[{property:"continent",operator:"is",value:"Asia",id:N()},{property:"region",operator:"is",value:"India",id:N()},{property:"price",operator:"is",value:"20",id:N()}]}]},An={groups:[{groupOperator:"and",statement:"if",id:N(),conditions:[{property:"region",operator:"oneOf",value:[{label:"Africa",id:"Africa"},{label:"India",id:"Ind"}],id:N()},{property:"delivery",operator:"is",value:"processing",id:N()},{property:"price",operator:"is",value:"3 Dollars",id:N()}]}]},$o={title:"IBM Products/Components/ConditionBuilder",component:te,tags:["autodocs"],parameters:{layout:"fullscreen",styles:Sn,docs:{page:qn}}},kn=()=>[{label:"Africa",id:"Africa"},{label:"Antarctica",id:"Antarctica"},{label:"Asia",id:"Asia"},{label:"Australia",id:"Australia"},{label:"Europe",id:"Europe"}],Pn=()=>[{label:"Afghanistan",id:"AF",icon:U},{label:"Albania",id:"AL",icon:U},{label:"Algeria",id:"AG",icon:U},{label:"Andorra",id:"AN",icon:U}],In=()=>[{label:"black",id:"black"},{label:"silver",id:"silver"},{label:"gray",id:"gray"},{label:"white",id:"white"},{label:"maroon",id:"maroon"},{label:"red",id:"red"},{label:"purple",id:"purple"},{label:"fuchsia",id:"fuchsia"},{label:"green",id:"green"},{label:"lime",id:"lime"},{label:"olive",id:"olive"},{label:"yellow",id:"yellow"},{label:"navy",id:"navy"},{label:"blue",id:"blue"},{label:"teal",id:"teal"},{label:"aqua",id:"aqua"}],Rn=async(t,{property:o})=>{switch(o){case"continent":return new Promise(r=>{setTimeout(()=>{r(kn())},2e3)});case"region":return new Promise(r=>{setTimeout(()=>{r(Pn())},2e3)});case"color":return new Promise(r=>{setTimeout(()=>{r(In())},2e3)});default:return[]}},Dn={startConditionLabel:"Add Condition",popOverSearchThreshold:4,getConditionState:t=>{console.log(t)}},Kt=[{id:N(),label:"Add item to cart"},{id:N(),label:"Proceed item to checkout"}],Bn=t=>({ifText:"if",addConditionText:"Add condition",addConditionGroupText:"Add condition group",addSubgroupText:"Add subgroup"})[t],oe=t=>{const o=g.useRef();return n.jsx(te,{...t,ref:o,...Dn})},Z=oe.bind({});Z.storyName="Condition Builder";Z.args={inputConfig:he,variant:"sentence"};const ce=oe.bind({});ce.storyName="With dynamic options";ce.args={inputConfig:$n,getOptions:Rn,variant:"sentence"};const de=oe.bind({});de.storyName="With initial state";de.args={initialState:An,inputConfig:he,variant:"sentence",translateWithId:Bn};const pe=oe.bind({});pe.storyName="With Actions";pe.args={inputConfig:he,variant:"sentence",actions:Kt,getActionsState:t=>{console.log("action state",t)}};const ue=oe.bind({});ue.storyName="Condition Builder(Tree)";ue.args={inputConfig:he,variant:"tree"};const me=oe.bind({});me.storyName="With initial state(Tree)";me.args={initialState:On,inputConfig:he,variant:"tree"};const fe=oe.bind({});fe.storyName="With Actions(Tree)";fe.args={inputConfig:he,variant:"tree",actions:Kt,getActionsState:t=>{}};var tt,nt,ot,rt,it;Z.parameters={...Z.parameters,docs:{...(tt=Z.parameters)==null?void 0:tt.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(ot=(nt=Z.parameters)==null?void 0:nt.docs)==null?void 0:ot.source},description:{story:`TODO: Declare one or more stories, generally one per design scenario.
NB no need for a 'Playground' because all stories have all controls anyway.`,...(it=(rt=Z.parameters)==null?void 0:rt.docs)==null?void 0:it.description}}};var at,st,lt;ce.parameters={...ce.parameters,docs:{...(at=ce.parameters)==null?void 0:at.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(lt=(st=ce.parameters)==null?void 0:st.docs)==null?void 0:lt.source}}};var ct,dt,pt;de.parameters={...de.parameters,docs:{...(ct=de.parameters)==null?void 0:ct.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(pt=(dt=de.parameters)==null?void 0:dt.docs)==null?void 0:pt.source}}};var ut,mt,ft;pe.parameters={...pe.parameters,docs:{...(ut=pe.parameters)==null?void 0:ut.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(ft=(mt=pe.parameters)==null?void 0:mt.docs)==null?void 0:ft.source}}};var ht,gt,bt;ue.parameters={...ue.parameters,docs:{...(ht=ue.parameters)==null?void 0:ht.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(bt=(gt=ue.parameters)==null?void 0:gt.docs)==null?void 0:bt.source}}};var yt,vt,xt;me.parameters={...me.parameters,docs:{...(yt=me.parameters)==null?void 0:yt.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(xt=(vt=me.parameters)==null?void 0:vt.docs)==null?void 0:xt.source}}};var Ct,_t,Tt;fe.parameters={...fe.parameters,docs:{...(Ct=fe.parameters)==null?void 0:Ct.docs,source:{originalSource:`args => {
  const ref = useRef();
  return <ConditionBuilder {...args} ref={ref} {...requiredProps} />;
}`,...(Tt=(_t=fe.parameters)==null?void 0:_t.docs)==null?void 0:Tt.source}}};const Oo=["conditionBuilder","conditionBuilderDynamicOptions","conditionBuilderWithInitialState","conditionBuilderWithActions","conditionBuilderTree","conditionBuilderWithInitialStateTree","conditionBuilderWithActionsTree"];export{Oo as __namedExportsOrder,Z as conditionBuilder,ce as conditionBuilderDynamicOptions,ue as conditionBuilderTree,pe as conditionBuilderWithActions,fe as conditionBuilderWithActionsTree,de as conditionBuilderWithInitialState,me as conditionBuilderWithInitialStateTree,$o as default};
