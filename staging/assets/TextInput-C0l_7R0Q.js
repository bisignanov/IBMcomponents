import{P as e}from"./index-Dk74W0Oi.js";import{R as t,r as S}from"./index-BwDkhjyp.js";import{u as le,c as s,_ as pe,d as ne,s as we}from"./deprecate-D9ms-jbM.js";import{u as ce}from"./useNormalizedInputProps-DRpk_7sW.js";import{F as ue}from"./FormContext-C7kRVu4t.js";import{n as de,T as xe}from"./settings-DrdbGLhD.js";import{W as $e,e as me}from"./bucket-17-CArjO86K.js";import{V as be}from"./bucket-16-C-1D9aPX.js";import{u as fe}from"./useAnnouncer-MW4fVOqQ.js";import{T as ie}from"./Text-_TFgs5hl.js";const ge=x=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":x}),he=x=>({"aria-describedby":x}),ve=x=>({"aria-describedby":x}),ae=x=>{let{sharedTextInputProps:I,invalid:C,invalidId:v,warn:p,warnId:c,hasHelper:N,helperId:b}=x;return{...I,...C?ge(v):{},...p?he(c):{},...N?ve(b):{}}},_e=we(),se=t.forwardRef(function(I,C){let{labelText:v,className:p,id:c,placeholder:N,onChange:b=de,onClick:o=de,disabled:r=!1,hideLabel:q,invalid:$=!1,invalidText:E="",helperText:h="",light:A,type:_="password",togglePasswordVisibility:y,tooltipPosition:w="bottom",tooltipAlignment:R="center",hidePasswordLabel:f="Hide password",showPasswordLabel:H="Show password",size:d=void 0,...u}=I;const a=le(),{current:F}=S.useRef(_e()),n=c+"-error-msg",P=s(`${a}--text-input`,`${a}--password-input`,p,{[`${a}--text-input--light`]:A,[`${a}--text-input--invalid`]:$,[`${a}--text-input--${d}`]:d}),g={id:c,onChange:V=>{r||b==null||b(V)},onClick:V=>{r||o==null||o(V)},placeholder:N,type:_,ref:C,className:P,...u},O=s(`${a}--label`,{[`${a}--visually-hidden`]:q,[`${a}--label--disabled`]:r}),l=s(`${a}--form__helper-text`,{[`${a}--form__helper-text--disabled`]:r}),i=v?t.createElement("label",{htmlFor:c,className:O},v):null,m=$?t.createElement("div",{className:`${a}--form-requirement`,id:n},E):null,L=_==="text",B=L?t.createElement(me,{className:`${a}--icon-visibility-off`}):t.createElement(be,{className:`${a}--icon-visibility-on`}),G=s(`${a}--text-input--password__visibility__toggle`,`${a}--btn`,`${a}--btn--icon-only`,`${a}--tooltip__trigger`,`${a}--tooltip--a11y`,{[`${a}--tooltip--${w}`]:w,[`${a}--tooltip--align-${R}`]:R}),k=h?`controlled-password-helper-text-${F}`:void 0,j=t.createElement(t.Fragment,null,t.createElement("input",pe({},ae({invalid:$,sharedTextInputProps:g,invalidId:n,hasHelper:!!(!m&&h),helperId:k}),{"data-toggle-password-visibility":_==="password"})),t.createElement("button",{type:"button",className:G,onClick:y},t.createElement("span",{className:`${a}--assistive-text`},L?f:H),B)),D=h?t.createElement("div",{id:k,className:l},h):null;return t.createElement("div",{className:`${a}--form-item ${a}--text-input-wrapper ${a}--password-input-wrapper`},i,t.createElement("div",{className:`${a}--text-input__field-wrapper`,"data-invalid":$||null},$&&t.createElement($e,{className:`${a}--text-input__invalid-icon`}),j),m||D)});se.displayName="ControlledPasswordInput";se.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ne(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const oe=t.forwardRef(function(I,C){let{className:v,disabled:p=!1,helperText:c,hideLabel:N,hidePasswordLabel:b="Hide password",id:o,inline:r,invalid:q=!1,invalidText:$,labelText:E,light:h,onChange:A=()=>{},onClick:_=()=>{},onTogglePasswordVisibility:y,placeholder:w,readOnly:R,size:f="md",showPasswordLabel:H="Show password",tooltipPosition:d="bottom",tooltipAlignment:u="end",type:a="password",warn:F=!1,warnText:n,...P}=I;const[g,O]=S.useState(a),l=le(),i=ce({id:o,invalid:q,invalidText:$,warn:F,warnText:n,readOnly:R,disabled:p}),{isFluid:m}=S.useContext(ue),L=T=>{O(g==="password"?"text":"password"),y&&y(T)},B=s(`${l}--text-input`,`${l}--password-input`,v,{[`${l}--text-input--light`]:h,[`${l}--text-input--invalid`]:i.invalid,[`${l}--text-input--warning`]:i.warn,[`${l}--text-input--${f}`]:f,[`${l}--layout--size-${f}`]:f}),G={id:o,onChange:T=>{p||A(T)},onClick:T=>{p||_(T)},placeholder:w,type:g,className:B,ref:C,...P},k=s(`${l}--form-item`,`${l}--text-input-wrapper`,`${l}--password-input-wrapper`,{[`${l}--text-input-wrapper--light`]:h,[`${l}--text-input-wrapper--inline`]:r,[`${l}--text-input--fluid`]:m}),j=s(`${l}--label`,{[`${l}--visually-hidden`]:N,[`${l}--label--disabled`]:p,[`${l}--label--inline`]:r,[`${l}--label--inline--${f}`]:r&&!!f}),D=s(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:p,[`${l}--form__helper-text--inline`]:r}),V=s(`${l}--text-input__field-outer-wrapper`,{[`${l}--text-input__field-outer-wrapper--inline`]:r}),Z=s(`${l}--text-input__field-wrapper`,{[`${l}--text-input__field-wrapper--warning`]:i.warn}),ee=s({[`${l}--text-input__invalid-icon`]:i.invalid||i.warn,[`${l}--text-input__invalid-icon--warning`]:i.warn}),Q=E?t.createElement("label",{htmlFor:o,className:j},E):null,J=c?t.createElement("div",{id:i.helperId,className:D},c):null,K=g==="text",te=K?t.createElement(me,{className:`${l}--icon-visibility-off`}):t.createElement(be,{className:`${l}--icon-visibility-on`}),W=s(`${l}--text-input--password__visibility__toggle`,`${l}--btn`,`${l}--tooltip__trigger`,`${l}--tooltip--a11y`,{[`${l}--tooltip--${d}`]:d,[`${l}--tooltip--align-${u}`]:u});let z;(d==="top"||d==="bottom")&&(u==="center"&&(z=d),u==="end"&&(z=`${d}-right`),u==="start"&&(z=`${d}-left`)),(d==="right"||d==="left")&&(z=d);const U=t.createElement(t.Fragment,null,t.createElement("input",pe({},ae({sharedTextInputProps:G,invalid:i.invalid,invalidId:i.invalidId,warn:i.warn,warnId:i.warnId,hasHelper:!!(c&&!m&&(r||!r&&!i.validation)),helperId:i.helperId}),{disabled:p,"data-toggle-password-visibility":g==="password"})),m&&t.createElement("hr",{className:`${l}--text-input__divider`}),t.createElement(xe,{align:z,className:`${l}--toggle-password-tooltip`,label:K?b:H},t.createElement("button",{type:"button",className:W,disabled:p,onClick:L},te)));S.useEffect(()=>{O(a)},[a]);const M=i.icon;return t.createElement("div",{className:k},r?t.createElement("div",{className:`${l}--text-input__label-helper-wrapper`},Q,!m&&J):Q,t.createElement("div",{className:V},t.createElement("div",{className:Z,"data-invalid":i.invalid||null},M&&t.createElement(M,{className:ee}),U,m&&!r&&i.validation),!m&&!r&&(i.validation||J)))});oe.displayName="PasswordInput";oe.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ne(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};const Y=t.forwardRef(function(I,C){var T;let{className:v,disabled:p=!1,helperText:c,hideLabel:N,id:b,inline:o=!1,invalid:r=!1,invalidText:q,labelText:$,light:E,onChange:h=()=>{},onClick:A=()=>{},placeholder:_,readOnly:y,size:w,type:R="text",warn:f=!1,warnText:H,enableCounter:d=!1,maxCount:u,slug:a,...F}=I;const n=le(),{defaultValue:P,value:g}=F,[O,l]=S.useState((P==null?void 0:P.toString().length)||(g==null?void 0:g.toString().length)||0),i=ce({id:b,readOnly:y,disabled:p,invalid:r,invalidText:q,warn:f,warnText:H}),m=s(`${n}--text-input`,{[`${n}--text-input--light`]:E,[`${n}--text-input--invalid`]:i.invalid,[`${n}--text-input--warning`]:i.warn,[`${n}--text-input--${w}`]:w,[`${n}--layout--size-${w}`]:w}),L={id:b,onChange:X=>{var re;i.disabled||(l((re=X.target.value)==null?void 0:re.length),h(X))},onClick:X=>{i.disabled||A(X)},placeholder:_,type:R,ref:C,className:m,title:_,disabled:i.disabled,readOnly:y,"aria-describedby":c&&i.helperId,...F};d&&(L.maxLength=u);const B=s([s(`${n}--form-item`,v)],`${n}--text-input-wrapper`,{[`${n}--text-input-wrapper--readonly`]:y,[`${n}--text-input-wrapper--light`]:E,[`${n}--text-input-wrapper--inline`]:o,[`${n}--text-input-wrapper--inline--invalid`]:o&&i.invalid}),G=s(`${n}--label`,{[`${n}--visually-hidden`]:N,[`${n}--label--disabled`]:i.disabled,[`${n}--label--inline`]:o,[`${n}--label--inline--${w}`]:o&&!!w}),k=s(`${n}--form__helper-text`,{[`${n}--form__helper-text--disabled`]:i.disabled,[`${n}--form__helper-text--inline`]:o}),j=s(`${n}--text-input__field-outer-wrapper`,{[`${n}--text-input__field-outer-wrapper--inline`]:o}),D=s(`${n}--text-input__field-wrapper`,{[`${n}--text-input__field-wrapper--warning`]:i.warn,[`${n}--text-input__field-wrapper--slug`]:a}),V=s({[`${n}--text-input__invalid-icon`]:i.invalid||i.warn,[`${n}--text-input__invalid-icon--warning`]:i.warn}),Z=s(`${n}--label`,{[`${n}--label--disabled`]:p,[`${n}--text-input__label-counter`]:!0}),ee=d&&u?t.createElement(ie,{as:"div",className:Z},`${O}/${u}`):null,Q=$?t.createElement(ie,{as:"label",htmlFor:b,className:G},$):null,J=t.createElement("div",{className:`${n}--text-input__label-wrapper`},Q,ee),K=c?t.createElement(ie,{as:"div",id:i.helperId,className:k},c):null,te=t.createElement("input",ae({sharedTextInputProps:L,invalid:i.invalid,invalidId:i.invalidId,warn:i.warn,warnId:i.warnId})),{isFluid:W}=S.useContext(ue),z=fe(O,u),U=i.icon;let M;return a&&((T=a.type)==null?void 0:T.displayName)==="Slug"&&(M=t.cloneElement(a,{size:"mini"})),t.createElement("div",{className:B},o?t.createElement("div",{className:`${n}--text-input__label-helper-wrapper`},J,!W&&(i.validation||K)):J,t.createElement("div",{className:j},t.createElement("div",{className:D,"data-invalid":i.invalid||null},U&&t.createElement(U,{className:V}),te,M,t.createElement("span",{className:`${n}--text-input__counter-alert`,role:"alert"},z),W&&t.createElement("hr",{className:`${n}--text-input__divider`}),W&&!o&&i.validation),!W&&!o&&(i.validation||K)))});Y.displayName="TextInput";Y.PasswordInput=oe;Y.ControlledPasswordInput=se;Y.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ne(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:e.node,type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{oe as P,Y as T};
