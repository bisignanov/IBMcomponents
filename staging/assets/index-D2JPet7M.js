import{u as Bt,g as ee,b as Wt,c as et,_ as Vt}from"./useMergedRefs-CY5AfkP4.js";import{P as F}from"./index-Dk74W0Oi.js";import{r as p,a as ne,R as N}from"./index-BwDkhjyp.js";import{r as oe}from"./index-BONylQH5.js";const it={};function re(t,e,n){return function(r,i,s){if(r[i]!==void 0){if(!it[s]||!it[s][i]){it[s]={...it[s],[i]:!0};const a=r[i],u=n?n(a):null;e&&!e.includes(a)&&(n?`${a}${i}${s}${u}${a}`:`${a}${i}${s}${e.join(", ")}${a}`)}for(var c=arguments.length,l=new Array(c>3?c-3:0),f=3;f<c;f++)l[f-3]=arguments[f];return t(r,i,s,...l)}}}function dn(t,e,n){const o=p.useRef(null);p.useEffect(()=>{o.current=n},[n]),p.useEffect(()=>{var s;const r=c=>{o.current&&o.current(c)},i="current"in t?t.current:t;return(s=i==null?void 0:i.addEventListener)==null||s.call(i,e,r),()=>{var c;(c=i==null?void 0:i.removeEventListener)==null||c.call(i,e,r)}},[t,e])}function Ot(t,e){const n=p.useRef(null);p.useEffect(()=>{n.current=e},[e]),p.useEffect(()=>{function o(r){n.current&&n.current(r)}return window.addEventListener(t,o),()=>{window.removeEventListener(t,o)}},[t])}function ie(t){switch(t){case"top-left":return"top-start";case"top-right":return"top-end";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end";case"left-bottom":return"left-end";case"left-top":return"left-start";case"right-bottom":return"right-end";case"right-top":return"right-start";default:return t}}function Y(t){return Ht(t)?(t.nodeName||"").toLowerCase():"#document"}function V(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function j(t){var e;return(e=(Ht(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ht(t){return t instanceof Node||t instanceof V(t).Node}function W(t){return t instanceof Element||t instanceof V(t).Element}function z(t){return t instanceof HTMLElement||t instanceof V(t).HTMLElement}function Tt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof V(t).ShadowRoot}function ot(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function se(t){return["table","td","th"].includes(Y(t))}function yt(t){const e=xt(),n=H(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ce(t){let e=J(t);for(;z(e)&&!dt(e);){if(yt(e))return e;e=J(e)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dt(t){return["html","body","#document"].includes(Y(t))}function H(t){return V(t).getComputedStyle(t)}function pt(t){return W(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function J(t){if(Y(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tt(t)&&t.host||j(t);return Tt(e)?e.host:e}function It(t){const e=J(t);return dt(e)?t.ownerDocument?t.ownerDocument.body:t.body:z(e)&&ot(e)?e:It(e)}function nt(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=It(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=V(r);return i?e.concat(s,s.visualViewport||[],ot(r)?r:[],s.frameElement&&n?nt(s.frameElement):[]):e.concat(r,nt(r,[],n))}const X=Math.min,B=Math.max,lt=Math.round,st=Math.floor,U=t=>({x:t,y:t}),le={left:"right",right:"left",bottom:"top",top:"bottom"},fe={start:"end",end:"start"};function ae(t,e,n){return B(t,X(e,n))}function rt(t,e){return typeof t=="function"?t(e):t}function q(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function ue(t){return t==="x"?"y":"x"}function bt(t){return t==="y"?"height":"width"}function gt(t){return["top","bottom"].includes(q(t))?"y":"x"}function vt(t){return ue(gt(t))}function de(t,e,n){n===void 0&&(n=!1);const o=Q(t),r=vt(t),i=bt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=ft(s)),[s,ft(s)]}function pe(t){const e=ft(t);return[ht(t),e,ht(e)]}function ht(t){return t.replace(/start|end/g,e=>fe[e])}function ge(t,e,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:s;default:return[]}}function me(t,e,n,o){const r=Q(t);let i=ge(q(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(ht)))),i}function ft(t){return t.replace(/left|right|bottom|top/g,e=>le[e])}function he(t){return{top:0,right:0,bottom:0,left:0,...t}}function _t(t){return typeof t!="number"?he(t):{top:t,right:t,bottom:t,left:t}}function at(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function St(t,e,n){let{reference:o,floating:r}=t;const i=gt(e),s=vt(e),c=bt(s),l=q(e),f=i==="y",a=o.x+o.width/2-r.width/2,u=o.y+o.height/2-r.height/2,h=o[c]/2-r[c]/2;let d;switch(l){case"top":d={x:a,y:o.y-r.height};break;case"bottom":d={x:a,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:u};break;case"left":d={x:o.x-r.width,y:u};break;default:d={x:o.x,y:o.y}}switch(Q(e)){case"start":d[s]-=h*(n&&f?-1:1);break;case"end":d[s]+=h*(n&&f?-1:1);break}return d}const we=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:a,y:u}=St(f,o,l),h=o,d={},y=0;for(let g=0;g<c.length;g++){const{name:A,fn:w}=c[g],{x:E,y:C,data:P,reset:x}=await w({x:a,y:u,initialPlacement:o,placement:h,strategy:r,middlewareData:d,rects:f,platform:s,elements:{reference:t,floating:e}});a=E??a,u=C??u,d={...d,[A]:{...d[A],...P}},x&&y<=50&&(y++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(f=x.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):x.rects),{x:a,y:u}=St(f,h,l)),g=-1)}return{x:a,y:u,placement:h,strategy:r,middlewareData:d}};async function zt(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:a="viewport",elementContext:u="floating",altBoundary:h=!1,padding:d=0}=rt(e,t),y=_t(d),A=c[h?u==="floating"?"reference":"floating":u],w=at(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(A)))==null||n?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:a,strategy:l})),E=u==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),P=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},x=at(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:C,strategy:l}):E);return{top:(w.top-x.top+y.top)/P.y,bottom:(x.bottom-w.bottom+y.bottom)/P.y,left:(w.left-x.left+y.left)/P.x,right:(x.right-w.right+y.right)/P.x}}const ye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:c,middlewareData:l}=e,{element:f,padding:a=0}=rt(t,e)||{};if(f==null)return{};const u=_t(a),h={x:n,y:o},d=vt(r),y=bt(d),g=await s.getDimensions(f),A=d==="y",w=A?"top":"left",E=A?"bottom":"right",C=A?"clientHeight":"clientWidth",P=i.reference[y]+i.reference[d]-h[d]-i.floating[y],x=h[d]-i.reference[d],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let O=R?R[C]:0;(!O||!await(s.isElement==null?void 0:s.isElement(R)))&&(O=c.floating[C]||i.floating[y]);const b=P/2-x/2,T=O/2-g[y]/2-1,k=X(u[w],T),I=X(u[E],T),S=k,_=O-g[y]-I,D=O/2-g[y]/2+b,$=ae(S,D,_),M=!l.arrow&&Q(r)!=null&&D!==$&&i.reference[y]/2-(D<S?k:I)-g[y]/2<0,v=M?D<S?D-S:D-_:0;return{[d]:h[d]+v,data:{[d]:$,centerOffset:D-$-v,...M&&{alignmentOffset:v}},reset:M}}}),xe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...A}=rt(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=q(r),E=q(c)===c,C=await(l.isRTL==null?void 0:l.isRTL(f.floating)),P=h||(E||!g?[ft(c)]:pe(c));!h&&y!=="none"&&P.push(...me(c,g,y,C));const x=[c,...P],R=await zt(e,A),O=[];let b=((o=i.flip)==null?void 0:o.overflows)||[];if(a&&O.push(R[w]),u){const S=de(r,s,C);O.push(R[S[0]],R[S[1]])}if(b=[...b,{placement:r,overflows:O}],!O.every(S=>S<=0)){var T,k;const S=(((T=i.flip)==null?void 0:T.index)||0)+1,_=x[S];if(_)return{data:{index:S,overflows:b},reset:{placement:_}};let D=(k=b.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!D)switch(d){case"bestFit":{var I;const $=(I=b.map(M=>[M.placement,M.overflows.filter(v=>v>0).reduce((v,m)=>v+m,0)]).sort((M,v)=>M[1]-v[1])[0])==null?void 0:I[0];$&&(D=$);break}case"initialPlacement":D=c;break}if(r!==D)return{reset:{placement:D}}}return{}}}};async function be(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=q(n),c=Q(n),l=gt(n)==="y",f=["left","top"].includes(s)?-1:1,a=i&&l?-1:1,u=rt(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof y=="number"&&(d=c==="end"?y*-1:y),l?{x:d*a,y:h*f}:{x:h*f,y:d*a}}const ve=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:c}=e,l=await be(e,t);return s===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},Re=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:r,elements:i}=e,{apply:s=()=>{},...c}=rt(t,e),l=await zt(e,c),f=q(n),a=Q(n),u=gt(n)==="y",{width:h,height:d}=o.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=a===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(g=f,y=a==="end"?"top":"bottom");const A=d-l[y],w=h-l[g],E=!e.middlewareData.shift;let C=A,P=w;if(u){const R=h-l.left-l.right;P=a||E?X(w,R):R}else{const R=d-l.top-l.bottom;C=a||E?X(A,R):R}if(E&&!a){const R=B(l.left,0),O=B(l.right,0),b=B(l.top,0),T=B(l.bottom,0);u?P=h-2*(R!==0||O!==0?R+O:B(l.left,l.right)):C=d-2*(b!==0||T!==0?b+T:B(l.top,l.bottom))}await s({...e,availableWidth:P,availableHeight:C});const x=await r.getDimensions(i.floating);return h!==x.width||d!==x.height?{reset:{rects:!0}}:{}}}};function jt(t){const e=H(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=z(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,c=lt(n)!==i||lt(o)!==s;return c&&(n=i,o=s),{width:n,height:o,$:c}}function Rt(t){return W(t)?t:t.contextElement}function G(t){const e=Rt(t);if(!z(e))return U(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=jt(e);let s=(i?lt(n.width):n.width)/o,c=(i?lt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Ee=U(0);function Yt(t){const e=V(t);return!xt()||!e.visualViewport?Ee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==V(t)?!1:e}function K(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Rt(t);let s=U(1);e&&(o?W(o)&&(s=G(o)):s=G(t));const c=Ce(i,n,o)?Yt(i):U(0);let l=(r.left+c.x)/s.x,f=(r.top+c.y)/s.y,a=r.width/s.x,u=r.height/s.y;if(i){const h=V(i),d=o&&W(o)?V(o):o;let y=h,g=y.frameElement;for(;g&&o&&d!==y;){const A=G(g),w=g.getBoundingClientRect(),E=H(g),C=w.left+(g.clientLeft+parseFloat(E.paddingLeft))*A.x,P=w.top+(g.clientTop+parseFloat(E.paddingTop))*A.y;l*=A.x,f*=A.y,a*=A.x,u*=A.y,l+=C,f+=P,y=V(g),g=y.frameElement}}return at({width:a,height:u,x:l,y:f})}const Ae=[":popover-open",":modal"];function Xt(t){return Ae.some(e=>{try{return t.matches(e)}catch{return!1}})}function Pe(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=j(o),c=e?Xt(e.floating):!1;if(o===s||c&&i)return n;let l={scrollLeft:0,scrollTop:0},f=U(1);const a=U(0),u=z(o);if((u||!u&&!i)&&((Y(o)!=="body"||ot(s))&&(l=pt(o)),z(o))){const h=K(o);f=G(o),a.x=h.x+o.clientLeft,a.y=h.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+a.x,y:n.y*f.y-l.scrollTop*f.y+a.y}}function Oe(t){return Array.from(t.getClientRects())}function Ut(t){return K(j(t)).left+pt(t).scrollLeft}function Te(t){const e=j(t),n=pt(t),o=t.ownerDocument.body,r=B(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=B(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Ut(t);const c=-n.scrollTop;return H(o).direction==="rtl"&&(s+=B(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:c}}function Se(t,e){const n=V(t),o=j(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const f=xt();(!f||f&&e==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function $e(t,e){const n=K(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=z(t)?G(t):U(1),s=t.clientWidth*i.x,c=t.clientHeight*i.y,l=r*i.x,f=o*i.y;return{width:s,height:c,x:l,y:f}}function $t(t,e,n){let o;if(e==="viewport")o=Se(t,n);else if(e==="document")o=Te(j(t));else if(W(e))o=$e(e,n);else{const r=Yt(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return at(o)}function qt(t,e){const n=J(t);return n===e||!W(n)||dt(n)?!1:H(n).position==="fixed"||qt(n,e)}function Le(t,e){const n=e.get(t);if(n)return n;let o=nt(t,[],!1).filter(c=>W(c)&&Y(c)!=="body"),r=null;const i=H(t).position==="fixed";let s=i?J(t):t;for(;W(s)&&!dt(s);){const c=H(s),l=yt(s);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ot(s)&&!l&&qt(t,s))?o=o.filter(a=>a!==s):r=c,s=J(s)}return e.set(t,o),o}function De(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?Le(e,this._c):[].concat(n),o],c=s[0],l=s.reduce((f,a)=>{const u=$t(e,a,r);return f.top=B(u.top,f.top),f.right=X(u.right,f.right),f.bottom=X(u.bottom,f.bottom),f.left=B(u.left,f.left),f},$t(e,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Me(t){const{width:e,height:n}=jt(t);return{width:e,height:n}}function Fe(t,e,n){const o=z(e),r=j(e),i=n==="fixed",s=K(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const l=U(0);if(o||!o&&!i)if((Y(e)!=="body"||ot(r))&&(c=pt(e)),o){const u=K(e,!0,i,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=Ut(r));const f=s.left+c.scrollLeft-l.x,a=s.top+c.scrollTop-l.y;return{x:f,y:a,width:s.width,height:s.height}}function Lt(t,e){return!z(t)||H(t).position==="fixed"?null:e?e(t):t.offsetParent}function Kt(t,e){const n=V(t);if(!z(t)||Xt(t))return n;let o=Lt(t,e);for(;o&&se(o)&&H(o).position==="static";)o=Lt(o,e);return o&&(Y(o)==="html"||Y(o)==="body"&&H(o).position==="static"&&!yt(o))?n:o||ce(t)||n}const ke=async function(t){const e=this.getOffsetParent||Kt,n=this.getDimensions,o=await n(t.floating);return{reference:Fe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ne(t){return H(t).direction==="rtl"}const Be={convertOffsetParentRelativeRectToViewportRelativeRect:Pe,getDocumentElement:j,getClippingRect:De,getOffsetParent:Kt,getElementRects:ke,getClientRects:Oe,getDimensions:Me,getScale:G,isElement:W,isRTL:Ne};function We(t,e){let n=null,o;const r=j(t);function i(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:f,top:a,width:u,height:h}=t.getBoundingClientRect();if(c||e(),!u||!h)return;const d=st(a),y=st(r.clientWidth-(f+u)),g=st(r.clientHeight-(a+h)),A=st(f),E={rootMargin:-d+"px "+-y+"px "+-g+"px "+-A+"px",threshold:B(0,X(1,l))||1};let C=!0;function P(x){const R=x[0].intersectionRatio;if(R!==l){if(!C)return s();R?s(!1,R):o=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(P,{...E,root:r.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return s(!0),i}function Ve(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,f=Rt(t),a=r||i?[...f?nt(f):[],...nt(e)]:[];a.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const u=f&&c?We(f,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(w=>{let[E]=w;E&&E.target===f&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=d)==null||C.observe(e)})),n()}),f&&!l&&d.observe(f),d.observe(e));let y,g=l?K(t):null;l&&A();function A(){const w=K(t);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&n(),g=w,y=requestAnimationFrame(A)}return n(),()=>{var w;a.forEach(E=>{r&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),u==null||u(),(w=d)==null||w.disconnect(),d=null,l&&cancelAnimationFrame(y)}}const He=ve,Ie=xe,pn=Re,Dt=ye,_e=(t,e,n)=>{const o=new Map,r={platform:Be,...n},i={...r.platform,_c:o};return we(t,e,{...r,platform:i})},ze=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?Dt({element:o.current,padding:r}).fn(n):{}:o?Dt({element:o,padding:r}).fn(n):{}}}};var ct=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ut(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ut(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!ut(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Gt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Mt(t,e){const n=Gt(t);return Math.round(e*n)/n}function Ft(t){const e=p.useRef(t);return ct(()=>{e.current=t}),e}function je(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:f}=t,[a,u]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,d]=p.useState(o);ut(h,o)||d(o);const[y,g]=p.useState(null),[A,w]=p.useState(null),E=p.useCallback(v=>{v!==R.current&&(R.current=v,g(v))},[]),C=p.useCallback(v=>{v!==O.current&&(O.current=v,w(v))},[]),P=i||y,x=s||A,R=p.useRef(null),O=p.useRef(null),b=p.useRef(a),T=l!=null,k=Ft(l),I=Ft(r),S=p.useCallback(()=>{if(!R.current||!O.current)return;const v={placement:e,strategy:n,middleware:h};I.current&&(v.platform=I.current),_e(R.current,O.current,v).then(m=>{const L={...m,isPositioned:!0};_.current&&!ut(b.current,L)&&(b.current=L,oe.flushSync(()=>{u(L)}))})},[h,e,n,I]);ct(()=>{f===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,u(v=>({...v,isPositioned:!1})))},[f]);const _=p.useRef(!1);ct(()=>(_.current=!0,()=>{_.current=!1}),[]),ct(()=>{if(P&&(R.current=P),x&&(O.current=x),P&&x){if(k.current)return k.current(P,x,S);S()}},[P,x,S,k,T]);const D=p.useMemo(()=>({reference:R,floating:O,setReference:E,setFloating:C}),[E,C]),$=p.useMemo(()=>({reference:P,floating:x}),[P,x]),M=p.useMemo(()=>{const v={position:n,left:0,top:0};if(!$.floating)return v;const m=Mt($.floating,a.x),L=Mt($.floating,a.y);return c?{...v,transform:"translate("+m+"px, "+L+"px)",...Gt($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:m,top:L}},[n,c,$.floating,a.x,a.y]);return p.useMemo(()=>({...a,update:S,refs:D,elements:$,floatingStyles:M}),[a,S,D,$,M])}function gn(t){return p.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const Jt={...ne},Ye=Jt.useInsertionEffect,Xe=Ye||(t=>t());function Ue(t){const e=p.useRef(()=>{});return Xe(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var wt=typeof document<"u"?p.useLayoutEffect:p.useEffect;let kt=!1,qe=0;const Nt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qe++;function Ke(){const[t,e]=p.useState(()=>kt?Nt():void 0);return wt(()=>{t==null&&e(Nt())},[]),p.useEffect(()=>{kt=!0},[]),t}const Ge=Jt.useId,Je=Ge||Ke;function Qe(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const Ze=p.createContext(null),tn=p.createContext(null),en=()=>{var t;return((t=p.useContext(Ze))==null?void 0:t.id)||null},nn=()=>p.useContext(tn);function on(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:o,nodeId:r}=t,[i,s]=p.useState(null),[c,l]=p.useState(null),a=((e=t.elements)==null?void 0:e.reference)||i;wt(()=>{a&&(g.current=a)},[a]);const u=je({...t,elements:{...t.elements,...c&&{reference:c}}}),h=nn(),d=en()!=null,y=Ue((b,T,k)=>{A.current.openEvent=b?T:void 0,w.emit("openchange",{open:b,event:T,reason:k,nested:d}),o==null||o(b,T,k)}),g=p.useRef(null),A=p.useRef({}),w=p.useState(()=>Qe())[0],E=Je(),C=p.useCallback(b=>{const T=W(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(T),u.refs.setReference(T)},[u.refs]),P=p.useCallback(b=>{(W(b)||b===null)&&(g.current=b,s(b)),(W(u.refs.reference.current)||u.refs.reference.current===null||b!==null&&!W(b))&&u.refs.setReference(b)},[u.refs]),x=p.useMemo(()=>({...u.refs,setReference:P,setPositionReference:C,domReference:g}),[u.refs,P,C]),R=p.useMemo(()=>({...u.elements,domReference:a}),[u.elements,a]),O=p.useMemo(()=>({...u,refs:x,elements:R,dataRef:A,nodeId:r,floatingId:E,events:w,open:n,onOpenChange:y}),[u,r,E,w,n,y,x,R]);return wt(()=>{const b=h==null?void 0:h.nodesRef.current.find(T=>T.id===r);b&&(b.context=O)}),p.useMemo(()=>({...u,context:O,refs:x,elements:R}),[u,x,R,O])}const Qt=N.createContext({setFloating:{current:null},caretRef:{current:null},autoAlign:null}),rn=t=>({"top-left":"top-start","top-right":"top-end","bottom-left":"bottom-start","bottom-right":"bottom-end","left-bottom":"left-end","left-top":"left-start","right-bottom":"right-end","right-top":"right-start"})[t],sn=N.forwardRef(function(e,n){var M;let{isTabTip:o,align:r=o?"bottom-start":"bottom",as:i="span",autoAlign:s=!1,caret:c=!o,className:l,children:f,dropShadow:a=!0,highContrast:u=!1,onRequestClose:h,open:d,...y}=e;const g=Bt(),A=p.useRef(null),w=p.useRef(null),E=p.useRef(null);let C=ie(r);Ot("blur",()=>{d&&(h==null||h())}),Ot("click",v=>{var m;d&&!((m=E==null?void 0:E.current)!=null&&m.contains(v.target))&&(h==null||h())});const P=N.Children.toArray(f).some(v=>{var m,L;return(L=(m=v==null?void 0:v.props)==null?void 0:m.className)==null?void 0:L.includes("slug")})?7:6,x=p.useRef({offset:10,caretHeight:P});ee(()=>{if(c&&E.current){const v=window.getComputedStyle(E.current,null),m=v.getPropertyValue("--cds-popover-offset"),L=v.getPropertyValue("--cds-popover-caret-height");m&&(x.current.offset=m.includes("px")?Number(m.split("px",1)[0])*1:Number(m.split("rem",1)[0])*16),L&&(x.current.caretHeight=L.includes("px")?Number(L.split("px",1)[0])*1:Number(L.split("rem",1)[0])*16)}});const{refs:R,floatingStyles:O,placement:b,middlewareData:T}=on(s?{placement:C,strategy:"fixed",middleware:[He(o?0:(M=x==null?void 0:x.current)==null?void 0:M.offset),Ie({fallbackAxisSideDirection:"start"}),ze({element:w})],whileElementsMounted:Ve}:{}),k=p.useMemo(()=>({floating:A,setFloating:R.setFloating,caretRef:w,autoAlign:s}),[R.setFloating,s]);o&&(["bottom-start","bottom-end"].includes(C)||(C="bottom-start")),p.useEffect(()=>{var v;if(s&&(Object.keys(O).forEach(m=>{R.floating.current&&(R.floating.current.style[m]=O[m])}),c&&T&&T.arrow&&(w!=null&&w.current))){const{x:m,y:L}=T.arrow,Z={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];w.current.style.left=m!=null?`${m}px`:"",w.current.style.top=L!=null?`${L}px`:"",w.current.style.right="",w.current.style.bottom="",Z&&(w.current.style[Z]=`${-((v=x==null?void 0:x.current)==null?void 0:v.caretHeight)}px`)}},[O,R.floating,s,T,b,c]);const I=Wt([n,E]),S=s&&b!==C?b:C,_=et({[`${g}--popover-container`]:!0,[`${g}--popover--caret`]:c,[`${g}--popover--drop-shadow`]:a,[`${g}--popover--high-contrast`]:u,[`${g}--popover--open`]:d,[`${g}--popover--auto-align`]:s,[`${g}--popover--${S}`]:!0,[`${g}--popover--tab-tip`]:o},l),D=N.Children.map(f,v=>{var L,Z,Et;const m=v;if(((m==null?void 0:m.type)==="button"||s&&((L=m==null?void 0:m.type)==null?void 0:L.displayName)!=="PopoverContent"||s&&((Z=m==null?void 0:m.type)==null?void 0:Z.displayName)==="ToggletipButton")&&N.isValidElement(m)){const Ct=(Et=m==null?void 0:m.props)==null?void 0:Et.className,tt=(m==null?void 0:m.props).ref,te=et(`${g}--popover--tab-tip__button`,Ct);return N.cloneElement(m,{className:o&&(m==null?void 0:m.type)==="button"?te:Ct||"",ref:mt=>{var At,Pt;(s&&((At=m==null?void 0:m.type)==null?void 0:At.displayName)!=="PopoverContent"||s&&((Pt=m==null?void 0:m.type)==null?void 0:Pt.displayName)==="ToggletipButton")&&R.setReference(mt),typeof tt=="function"?tt(mt):tt!=null&&(tt.current=mt)}})}else return m}),$=i;return N.createElement(Qt.Provider,{value:k},N.createElement($,Vt({},y,{className:_,ref:I}),s||o?D:f))});sn.propTypes={align:re(F.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],rn),as:F.oneOfType([F.string,F.elementType]),autoAlign:F.bool,caret:F.bool,children:F.node,className:F.string,dropShadow:F.bool,highContrast:F.bool,isTabTip:F.bool,onRequestClose:F.func,open:F.bool.isRequired};function cn(t,e){let{className:n,children:o,...r}=t;const i=Bt(),{setFloating:s,caretRef:c,autoAlign:l}=N.useContext(Qt),f=Wt([s,e]);return N.createElement("span",Vt({},r,{className:`${i}--popover`}),N.createElement("span",{className:et(`${i}--popover-content`,n),ref:f},o,l&&N.createElement("span",{className:et({[`${i}--popover-caret`]:!0,[`${i}--popover--auto-align`]:!0}),ref:c})),!l&&N.createElement("span",{className:et({[`${i}--popover-caret`]:!0}),ref:c}))}const Zt=N.forwardRef(cn);Zt.displayName="PopoverContent";Zt.propTypes={children:F.node,className:F.string};export{sn as P,Zt as a,gn as b,on as c,Ve as d,dn as e,Ie as f,pn as s,Ot as u};
