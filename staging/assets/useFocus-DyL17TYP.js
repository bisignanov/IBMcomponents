import{u as w}from"./useMergedRefs-CY5AfkP4.js";import{p as A}from"./settings-B0yoEqB-.js";import{r as p}from"./index-BwDkhjyp.js";const D=(r,o)=>o?r==null?void 0:r.querySelector(o):null,v=(r,o)=>{const a=w(),$=`${A.prefix}--tearsheet`,n=`:not(.${a}--visually-hidden,.${$}__header--no-close-icon,.${a}--btn--disabled,[aria-hidden="true"],[tabindex="-1"])`,d=`button${n}`,f=`input${n}`,h=`select${n}`,x=`textarea${n}`,q=`[href]${n}`,g=`[tabindex="0"]${n}`,l=`${d},${q},${f},${h},${x}, ${g}`,s=r==null?void 0:r.current,e=p.useCallback(()=>{let t=s==null?void 0:s.querySelectorAll(`${l}`);t!=null&&t.length&&(t=Array.prototype.filter.call(t,m=>{var y;return((y=window==null?void 0:window.getComputedStyle(m))==null?void 0:y.display)!=="none"}));const c=t==null?void 0:t[0],i=t==null?void 0:t[(t==null?void 0:t.length)-1],u=t,S=D(s,o);return{first:c,last:i,all:u,specifiedElement:S}},[s,l,o]);p.useEffect(()=>{e()},[e]);const k=t=>{if(t.key==="Tab"){const{first:c,last:i,all:u}=e();setTimeout(()=>{t.shiftKey&&!Array.prototype.includes.call(u,document==null?void 0:document.activeElement)?(t.preventDefault(),i==null||i.focus()):Array.prototype.includes.call(u,document==null?void 0:document.activeElement)||(t.preventDefault(),c==null||c.focus())},0)}};return{firstElement:e().first,lastElement:e().last,allElements:e().all,specifiedElement:e().specified,keyDownListener:k,getFocusable:e}};export{D as g,v as u};
